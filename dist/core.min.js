!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.core=t():e.core=t()}(this,function(){return function(e){function t(n){if(r[n])return r[n].exports;var a=r[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var r={};return t.m=e,t.c=r,t.d=function(e,r,n){t.o(e,r)||Object.defineProperty(e,r,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p="",t(t.s=16)}([function(e,t,r){(function(t){!function(t,r){e.exports=r()}(0,function(){"use strict";function e(e){if(e.hasErrors()){var t=e.input,r=e.context,n=[],a=!0,u=!1,i=void 0;try{for(var o,s=e.errors[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value,f=le(c,3),l=f[0],h=f[1],v=f[2],d=v?v.toString():null,m=r.typeOf(y(t,l)).toString(),k=p(e.path.concat(l)),g="/"+l.join("/");n.push({pointer:g,field:k,message:h,expected:d,actual:m})}}catch(e){u=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(u)throw i}}return n}}function n(e,t){try{var r=ye.get(e);return!!r&&c(r,t)}catch(e){return!0}}function a(e,t){var r=ye.get(e);r||(r=new WeakSet,ye.set(e,r)),f(r,t)}function u(e,t){var r=ye.get(e);r&&l(r,t)}function i(e){return he.has(e)}function o(e){he.add(e)}function s(e){he.delete(e)}function c(e,t){try{return e.has(t)}catch(e){return!0}}function f(e,t){try{e.add(t)}catch(e){}}function l(e,t){try{e.delete(t)}catch(e){}}function p(e){if(!e.length)return"Value";for(var t=e.length,r=new Array(t),n=0;n<t;n++){var a=e[n];"[[Return Type]]"===a?r[n]="Return Type":"string"==typeof a&&ve.test(a)?r[n]=n>0?"."+String(a):String(a):r[n]="["+String(a)+"]"}return r.join("")}function y(e,t){for(var r=e,n=t.length,a=0;a<n;a++){if(null==r)return;var u=t[a];"[[Return Type]]"!==u&&(r=r instanceof Map?r.get(u):r[u])}return r}function h(e,t){var r=e.length;if(r>t.length)return!1;for(var n=0;n<r;n++)if(t[n]!==e[n])return!1;return!0}function v(e){if(e.hasErrors()){var t=e.prefix,r=e.input,n=e.context,a=[],u=!0,i=!1,o=void 0;try{for(var s,c=e.errors[Symbol.iterator]();!(u=(s=c.next()).done);u=!0){var f=s.value,l=le(f,3),h=l[0],v=l[1],d=l[2],m=d?d.toString():"*",k=n.typeOf(y(r,h)).toString(),g=p(e.path.concat(h));a.push(g+" "+v+"\n\nExpected: "+m+"\n\nActual: "+k+"\n")}}catch(e){i=!0,o=e}finally{try{!u&&c.return&&c.return()}finally{if(i)throw o}}return new me(t?t.trim()+" "+a.join(ke):a.join(ke))}}function d(e,t){return v(e.context.validate(e,t))}function m(e,t){var r=void 0;if(e===t)return 0;if((t instanceof vt||t instanceof Se||t instanceof Ct)&&(t=t.unwrap()),e instanceof vt)r=e.compareWith(t);else if(e instanceof je||e instanceof Se||t instanceof je)r=e.compareWith(t);else{if(e instanceof be||e instanceof Ee||e instanceof ht)return 1;r=e.compareWith(t)}return t instanceof be?1:r}function k(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=xe[e];return r.length>0?a.replace(/\$(\d+)/g,function(e,t){return String(r[t])}):a}function g(e){var t=e[Ne];if(t)return t;var r=new je(e.context);return r.typeParameter=e,e[Ne]=r,r}function b(e,t){if(!e){var r=new Error(t);throw r.name="InvariantViolation","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(r,b),r}}function x(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];(t=e.constraints).push.apply(t,pe(n))}function _(e,t,r){for(var n=arguments.length,a=Array(n>3?n-3:0),u=3;u<n;u++)a[u-3]=arguments[u];var i,o,s,c,f;return ne.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:i=e.constraints,o=i.length,s=0;case 3:if(!(s<o)){t.next=12;break}if(c=i[s],"string"!=typeof(f=c.apply(void 0,pe(a)))){t.next=9;break}return t.next=9,[r,f,this];case 9:s++,t.next=3;break;case 12:case"end":return t.stop()}},qe[0],this)}function w(e){for(var t=e.constraints,r=t.length,n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];for(var i=0;i<r;i++)if("string"==typeof t[i].apply(void 0,pe(a)))return!1;return!0}function T(e){for(var t=e.split("\n"),r=t.length,n=0;n<r;n++)t[n]="  "+t[n];return t.join("\n")}function O(e){var t=e.context,r=e.bodyCreator,n=new st(t),a=r(n);Array.isArray(a)?n.type=t.class.apply(t,[e.name].concat(pe(a))):n.type=t.class(e.name,a),n.type.shapeID=e.shapeID;for(var u=n.typeParameters,i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];for(var c=Math.min(o.length,u.length),f=0;f<c;f++){var l=u[f],p=o[f];l.bound&&l.bound!==p?l.bound=t.intersect(l.bound,p):l.bound=p}return n}function P(e,t){for(var r=e.callProperties,n=0;n<r.length;n++)if(r[n].accepts(t))return!0;return!1}function E(e,t){var r=e.callProperties,n=t.callProperties,a=0;e:for(var u=0;u<r.length;u++){for(var i=r[u],o=0;o<n.length;o++){var s=m(i,n[o]);if(0===s){a++;continue e}if(1===s)continue e}return-1}return a===r.length?0:1}function N(e,t){for(var r=e.properties,n=e.indexers,a=[],u=0;u<r.length;u++){var i=r[u];if(!i.accepts(t))return!1;a.push(i.key)}e:for(var o in t)if(-1===a.indexOf(o)){for(var s=t[o],c=0;c<n.length;c++){var f=n[c];if(f.acceptsKey(o)&&f.acceptsValue(s))continue e}return!1}return!0}function S(e,t){var r=e.indexers,n=e.properties,a=t.indexers,u=t.properties,i=!1;e:for(var o=0;o<n.length;o++)for(var s=n[o],c=0;c<u.length;c++){var f=u[c];if(f.key===s.key){var l=m(s,f);if(-1===l)return-1;1===l&&(i=!0);continue e}}e:for(var p=0;p<r.length;p++){for(var y=r[p],h=0;h<a.length;h++){var v=m(y,a[h]);if(1===v){i=!0;continue e}if(0===v)continue e}return-1}return i?1:0}function j(e,t){for(var r=e.properties,n=0;n<r.length;n++)if(!r[n].accepts(t))return!1;return!0}function A(e,t){var r=e.properties,n=r.length;e:for(var a in t){for(var u=0;u<n;u++){var i=r[u];if(i.key===a){if(!i.accepts(t))return!1;continue e}}return!1}return!0}function R(e,t){var r=e.properties,n=t.properties,a=!1;e:for(var u=0;u<r.length;u++){for(var i=r[u],o=0;o<n.length;o++){var s=n[o];if(s.key===i.key){var c=m(i.value,s.value);if(-1===c)return-1;1===c&&(a=!0);continue e}}return-1}return a?1:0}function C(e,t,r,n){var a,u,i,o,s,c,f,l,p;return ne.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:a=e.properties,u=e.indexers,i=[],o=0;case 3:if(!(o<a.length)){y.next=10;break}return s=a[o],y.delegateYield(s.errors(t,r,n),"t0",6);case 6:i.push(s.key);case 7:o++,y.next=3;break;case 10:y.t1=ne.keys(n);case 11:if((y.t2=y.t1()).done){y.next=28;break}if(c=y.t2.value,-1===i.indexOf(c)){y.next=15;break}return y.abrupt("continue",11);case 15:f=n[c],l=0;case 17:if(!(l<u.length)){y.next=24;break}if(!(p=u[l]).acceptsKey(c)||!p.acceptsValue(f)){y.next=21;break}return y.abrupt("continue",11);case 21:l++,y.next=17;break;case 24:return y.next=26,[r.concat(c),k("ERR_NO_INDEXER"),e];case 26:y.next=11;break;case 28:case"end":return y.stop()}},lt[0],this)}function M(e,t,r,n){var a,u,i;return ne.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:a=e.properties,u=0;case 2:if(!(u<a.length)){o.next=8;break}return i=a[u],o.delegateYield(i.errors(t,r,n),"t0",5);case 5:u++,o.next=2;break;case 8:case"end":return o.stop()}},lt[1],this)}function I(e,t,r,n){var a,u,i,o,s;return ne.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:a=e.properties,u=a.length,c.t0=ne.keys(n);case 3:if((c.t1=c.t0()).done){c.next=18;break}i=c.t1.value,o=0;case 6:if(!(o<u)){c.next=14;break}if((s=a[o]).key!==i){c.next=11;break}return c.delegateYield(s.errors(t,r,n),"t2",10);case 10:return c.abrupt("continue",3);case 11:o++,c.next=6;break;case 14:return c.next=16,[r,k("ERR_UNKNOWN_KEY",i),e];case 16:c.next=3;break;case 18:case"end":return c.stop()}},lt[2],this)}function W(e){for(var t=e.split("\n"),r=t.length,n=0;n<r;n++)t[n]="  "+t[n];return t.join("\n")}function L(e,t){for(var r=0;r<t.length;r++)if(t[r].name===e)return r;return-1}function X(e,t){for(var r=0;r<t.length;r++){var n=t[r],a=L(n.key,e);-1===a?e.push(n):e[a]=n}return e}function J(e){var t=e.typeCreator,r=e.context,n=e.name,a=new st(r);a.name=n,a.type=t(a),a.constraints=e.constraints;for(var u=a.typeParameters,i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];for(var c=Math.min(o.length,u.length),f=0;f<c;f++){var l=u[f],p=o[f];l.bound&&l.bound!==p?l.bound=r.intersect(l.bound,p):l.bound=p}return a}function Y(e){var t=e.context,r=e.bodyCreator,n=new st(t),a=r(n);n.type=t.function.apply(t,pe(a));for(var u=n.typeParameters,i=arguments.length,o=Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];for(var c=Math.min(o.length,u.length),f=0;f<c;f++){var l=u[f],p=o[f];l.bound&&l.bound!==p?l.bound=t.intersect(l.bound,p):l.bound=p}return n}function $(e){var t=e[Rt];if(t)return t;var r=(0,e.reveal)();if(!r){if(!jt.has(e)){var n=e[At];n?e.context.emitWarningMessage('Failed to reveal type called "'+n+'" in Temporal Dead Zone.'):e.context.emitWarningMessage("Failed to reveal unknown type in Temporal Dead Zone."),jt.add(e)}return e.context.mixed()}return r instanceof ge?r:e.context.ref(r)}function D(e){var t={};if(!e.properties)return t;var r=!0,n=!1,a=void 0;try{for(var u,i=e.properties[Symbol.iterator]();!(r=(u=i.next()).done);r=!0)!function(e){t[e.key]=function(t,r,n){return d(e,t)}}(u.value)}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return t}function F(e){if(e.hasErrors()){var t=e.input,r=e.context,n=[],a=!0,u=!1,i=void 0;try{for(var o,s=e.errors[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value,f=le(c,3),l=f[0],h=f[1],v=f[2],d=v?v.toString():"*",m=r.typeOf(y(t,l)).toString(),k=p(e.path.concat(l));n.push(k+" "+h+"\n\nExpected: "+d+"\n\nActual: "+m+"\n")}}catch(e){u=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(u)throw i}}return"Warning: "+n.join(Wt)}}function U(e,t){for(var r=t.length,n=[],a=0;a<r;a++){var u=t[a];if(u instanceof be||u instanceof ht||u instanceof Ee)return u;u instanceof Mt?B(n,u.types):n.push(u)}var i=new Mt(e);return i.types=n,i}function B(e,t){e:for(var r=0;r<t.length;r++){for(var n=t[r],a=0;a<e.length;a++)if(-1!==m(e[a],n))continue e;e.push(n)}}function V(e,t,r,n,a){return"function"==typeof n.get&&"function"==typeof n.set?Z(e,t,r,n,a):H(e,t,r,n,a)}function G(e){return"_flowRuntime$"+e}function z(e){return"function"==typeof e?e.name||"[Class anonymous]":"function"==typeof e.constructor?z(e.constructor):"[Class anonymous]"}function K(e,t){return"function"==typeof t?t.call(e):t}function H(e,t,r,n,a){var u=G(r),i=z(t),o=n.initializer,s=(n.writable,ce(n,["initializer","writable"])),c=[i,r];return oe({},s,{type:"accessor",get:function(){if(u in this)return this[u];if(o){var t=K(this,e),r=o.call(this);return t.context.check(t,r,"Default value for property",c),Object.defineProperty(this,u,{writable:!0,value:r}),r}Object.defineProperty(this,u,{writable:!0,value:void 0})},set:function(t){var r=K(this,e),n=r.context;a?n.assert(r,t,"Property",c):n.warn(r,t,"Property",c),u in this?this[u]=t:Object.defineProperty(this,u,{writable:!0,value:t})}})}function Z(e,t,r,n,a){var u=[z(t),r],i=n.set;n.set=function(t){var r=K(this,e),n=r.context;a?n.assert(r,t,"Property",u):n.warn(r,t,"Property",u),i.call(this,t)}}function q(e,t){if(t instanceof ge)return e[Ye]=t,e;var r=function(){var t=e;return{v:function(e){return e[Ye]=t,e}}}();return"object"===(void 0===r?"undefined":ae(r))?r.v:void 0}function Q(e,t,r){var n=t.impl;if("function"!=typeof n)return!0;if(n===r||n.isPrototypeOf(r))return!0;var a=e.getAnnotation(n);return null!=a&&ee(e,a,r)}function ee(e,t,r){var n=e.getAnnotation(r);return null==n||-1!==m(t,n)}function te(e){return{value:e}}var re={},ne=r(17),ae="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ue=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")},ie=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e},se=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},ce=function(e,t){var r={};for(var n in e)t.indexOf(n)>=0||Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=e[n]);return r},fe=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},le=function(){function e(e,t){var r=[],n=!0,a=!1,u=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done)&&(r.push(i.value),!t||r.length!==t);n=!0);}catch(e){a=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw u}}return r}return function(t,r){if(Array.isArray(t))return t;if(Symbol.iterator in Object(t))return e(t,r);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),pe=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)},ye=new WeakMap,he=new WeakSet,ve=/^[$A-Z_][0-9A-Z_$[\].]*$/i,de=function(){function t(e,r){ue(this,t),this.path=[],this.prefix="",this.errors=[],this.cyclic=new WeakMap,this.context=e,this.input=r}return ie(t,[{key:"inCycle",value:function(e,t){var r=this.cyclic.get(e);return!!r&&c(r,t)}},{key:"startCycle",value:function(e,t){var r=this.cyclic.get(e);r||(r=new WeakSet,this.cyclic.set(e,r)),f(r,t)}},{key:"endCycle",value:function(e,t){var r=this.cyclic.get(e);r&&l(r,t)}},{key:"hasErrors",value:function(e){if(e){var t=!0,r=!1,n=void 0;try{for(var a,u=this.errors[Symbol.iterator]();!(t=(a=u.next()).done);t=!0){var i=a.value;if(h(e,le(i,1)[0]))return!0}}catch(e){r=!0,n=e}finally{try{!t&&u.return&&u.return()}finally{if(r)throw n}}return!1}return this.errors.length>0}},{key:"addError",value:function(e,t,r){return this.errors.push([e,r,t]),this}},{key:"clearError",value:function(e){var t=!1;if(e){var r=[],n=!0,a=!1,u=void 0;try{for(var i,o=this.errors[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value;h(e,s[0])?t=!0:r.push(s)}}catch(e){a=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw u}}this.errors=r}else t=this.errors.length>0,this.errors=[];return t}},{key:"resolvePath",value:function(e){return y(this.input,e)}},{key:"toJSON",value:function(){return e(this)}}]),t}(),me=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.name="RuntimeTypeError",a=r,fe(n,a)}return se(t,e),t}(TypeError),ke="\n-------------------------------------------------\n\n",ge=function(){function e(t){ue(this,e),this.typeName="Type",this.context=t}return ie(e,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=new de(this.context,e),r=!0,n=!1,a=void 0;try{for(var u,i=this.errors(t,[],e)[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){u.value;return!1}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return!0}},{key:"acceptsType",value:function(e){return-1!==m(this,e)}},{key:"compareWith",value:function(e){return-1}},{key:"assert",value:function(e){var t=d(this,e);if(t)throw"function"==typeof Error.captureStackTrace&&Error.captureStackTrace(t,this.assert),t;return e}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){return"$Type"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),e}(),be=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="AnyType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return!0}},{key:"compareWith",value:function(e){return 1}},{key:"toString",value:function(){return"any"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),xe={ERR_CONSTRAINT_VIOLATION:"violated a constraint",ERR_EXPECT_ARRAY:"must be an Array",ERR_EXPECT_TRUE:"must be true",ERR_EXPECT_FALSE:"must be false",ERR_EXPECT_BOOLEAN:"must be true or false",ERR_EXPECT_EMPTY:"must be empty",ERR_EXPECT_EXACT_VALUE:"must be exactly $0",ERR_EXPECT_CALLABLE:"must be callable",ERR_EXPECT_CLASS:"must be a Class of $0",ERR_EXPECT_FUNCTION:"must be a function",ERR_EXPECT_GENERATOR:"must be a generator function",ERR_EXPECT_ITERABLE:"must be iterable",ERR_EXPECT_ARGUMENT:'argument "$0" must be: $1',ERR_EXPECT_RETURN:"expected return type of: $0",ERR_EXPECT_N_ARGUMENTS:"requires $0 argument(s)",ERR_EXPECT_INSTANCEOF:"must be an instance of $0",ERR_EXPECT_KEY_TYPE:"keys must be: $0",ERR_EXPECT_NULL:"must be null",ERR_EXPECT_NUMBER:"must be a number",ERR_EXPECT_OBJECT:"must be an object",ERR_EXPECT_PROMISE:"must be a promise of $0",ERR_EXPECT_STRING:"must be a string",ERR_EXPECT_SYMBOL:"must be a symbol",ERR_EXPECT_THIS:"must be exactly this",ERR_EXPECT_VOID:"must be undefined",ERR_INVALID_DATE:"must be a valid date",ERR_MISSING_PROPERTY:"does not exist on object",ERR_NO_INDEXER:"is not one of the permitted indexer types",ERR_NO_UNION:"must be one of: $0",ERR_UNKNOWN_KEY:'should not contain the key: "$0"'},_e=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TupleType",n.types=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.types,u=a.length,(i=this.context).checkPredicate("Array",n)){e.next=7;break}return e.next=6,[r,k("ERR_EXPECT_ARRAY"),this];case 6:return e.abrupt("return");case 7:o=0;case 8:if(!(o<u)){e.next=13;break}return e.delegateYield(a[o].errors(t,r.concat(o),n[o]),"t0",10);case 10:o++,e.next=8;break;case 13:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.types,r=t.length;if(!this.context.checkPredicate("Array",e)||e.length<r)return!1;for(var n=0;n<r;n++)if(!t[n].accepts(e[n]))return!1;return!0}},{key:"compareWith",value:function(e){if(!(e instanceof t))return-1;var r=this.types,n=e.types;if(n.length<r.length)return-1;for(var a=!1,u=0;u<r.length;u++){var i=m(r[u],n[u]);if(1===i)a=!0;else if(-1===i)return-1}return r.length<n.length?0:a?1:0}},{key:"toString",value:function(){return"["+this.types.join(", ")+"]"}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),t}(),we=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ArrayType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if((a=this.context).checkPredicate("Array",n)){e.next=5;break}return e.next=4,[r,k("ERR_EXPECT_ARRAY"),this];case 4:return e.abrupt("return");case 5:if(!t.inCycle(this,n)){e.next=7;break}return e.abrupt("return");case 7:t.startCycle(this,n),u=this.elementType,i=n.length,o=0;case 11:if(!(o<i)){e.next=16;break}return e.delegateYield(u.errors(t,r.concat(o),n[o]),"t0",13);case 13:o++,e.next=11;break;case 16:t.endCycle(this,n);case 17:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){if(!this.context.checkPredicate("Array",e))return!1;if(n(this,e))return!0;a(this,e);for(var t=this.elementType,r=e.length,i=0;i<r;i++)if(!t.accepts(e[i]))return u(this,e),!1;return u(this,e),!0}},{key:"compareWith",value:function(e){var r=this.elementType;if(e instanceof _e){for(var n=e.types,a=0;a<n.length;a++)if(-1===m(r,n[a]))return-1;return 1}return e instanceof t?m(r,e.elementType):-1}},{key:"toString",value:function(){var e=this.elementType;if(i(this))return"string"==typeof e.name?"Array<$Cycle<"+e.name+">>":"Array<$Cycle<Object>>";o(this);var t="Array<"+e.toString()+">";return s(this),t}},{key:"toJSON",value:function(){return{typeName:this.typeName,elementType:this.elementType}}}]),t}(),Te=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="BooleanLiteralType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n===this.value){e.next=3;break}return e.next=3,[r,k(this.value?"ERR_EXPECT_TRUE":"ERR_EXPECT_FALSE"),this];case 3:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return e===this.value}},{key:"compareWith",value:function(e){return e instanceof t&&e.value===this.value?0:-1}},{key:"toString",value:function(){return this.value?"true":"false"}},{key:"toJSON",value:function(){return{type:this.typeName,value:this.value}}}]),t}(),Oe=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="BooleanType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("boolean"==typeof n){e.next=3;break}return e.next=3,[r,k("ERR_EXPECT_BOOLEAN"),this];case 3:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return"boolean"==typeof e}},{key:"compareWith",value:function(e){return e instanceof Te?1:e instanceof t?0:-1}},{key:"toString",value:function(){return"boolean"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),Pe=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="EmptyType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,[r,k("ERR_EXPECT_EMPTY"),this];case 2:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return!1}},{key:"compareWith",value:function(e){return e instanceof t?0:-1}},{key:"toString",value:function(){return"empty"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),Ee=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ExistentialType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return!0}},{key:"compareWith",value:function(e){return 1}},{key:"toString",value:function(){return"*"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),Ne=Symbol("FlowInto"),Se=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeParameter",n[Ne]=null,a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l,p,y;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.bound||this.default,u=this.recorded,i=this.context,!(a instanceof je)){e.next=7;break}return e.delegateYield(a.errors(t,r,n),"t0",4);case 4:return e.abrupt("return");case 7:if(!u){e.next=12;break}return e.delegateYield(u.errors(t,r,n),"t1",9);case 9:return e.abrupt("return");case 12:if(!a){e.next=47;break}if("AnyType"!==a.typeName&&"ExistentialType"!==a.typeName){e.next=17;break}return e.abrupt("return");case 17:o=!1,s=!0,c=!1,f=void 0,e.prev=21,l=a.errors(t,r,n)[Symbol.iterator]();case 23:if(s=(p=l.next()).done){e.next=31;break}return y=p.value,o=!0,e.next=28,y;case 28:s=!0,e.next=23;break;case 31:e.next=37;break;case 33:e.prev=33,e.t2=e.catch(21),c=!0,f=e.t2;case 37:e.prev=37,e.prev=38,!s&&l.return&&l.return();case 40:if(e.prev=40,!c){e.next=43;break}throw f;case 43:return e.finish(40);case 44:return e.finish(37);case 45:if(!o){e.next=47;break}return e.abrupt("return");case 47:this.recorded=i.typeOf(n);case 48:case"end":return e.stop()}},e,this,[[21,33,37,45],[38,,40,44]])})},{key:"accepts",value:function(e){var t=this.bound||this.default,r=this.recorded,n=this.context;if(t instanceof je)return t.accepts(e);if(r)return r.accepts(e);if(t){if("AnyType"===t.typeName||"ExistentialType"===t.typeName)return!0;if(!t.accepts(e))return!1}return this.recorded=n.typeOf(e),!0}},{key:"compareWith",value:function(e){var r=this.bound||this.default,n=this.recorded;return e instanceof t?1:n?m(n,e):r?m(r,e):1}},{key:"unwrap",value:function(){var e=this.bound||this.default,t=this.recorded;return t?t.unwrap():e?e.unwrap():this}},{key:"toString",value:function(e){var t=this.id,r=this.bound,n=this.default;if(e){if(n)return t+" = "+n.toString();if(r)return t+": "+r.toString()}return t}},{key:"toJSON",value:function(){return{typeName:this.typeName,id:this.id,bound:this.bound,recorded:this.recorded}}}]),t}(),je=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FlowIntoType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(r,n,a){var u,i,o,s,c,f,l,p,y,h,v,d,m,k,g,b,x,_;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(u=this.typeParameter,i=this.context,o=u.recorded,!((s=u.bound)instanceof t)){e.next=5;break}return e.delegateYield(s.errors(r,n,a),"t0",4);case 4:return e.abrupt("return");case 5:if(!o){e.next=47;break}if(!s){e.next=39;break}c=!1,f=!0,l=!1,p=void 0,e.prev=11,y=s.errors(r,n,a)[Symbol.iterator]();case 13:if(f=(h=y.next()).done){e.next=21;break}return v=h.value,e.next=17,v;case 17:c=!0;case 18:f=!0,e.next=13;break;case 21:e.next=27;break;case 23:e.prev=23,e.t1=e.catch(11),l=!0,p=e.t1;case 27:e.prev=27,e.prev=28,!f&&y.return&&y.return();case 30:if(e.prev=30,!l){e.next=33;break}throw p;case 33:return e.finish(30);case 34:return e.finish(27);case 35:if(!c){e.next=37;break}return e.abrupt("return");case 37:e.next=45;break;case 39:if(!o.accepts(a)){e.next=43;break}return e.abrupt("return");case 43:return u.recorded=i.union(o,i.typeOf(a)),e.abrupt("return");case 45:e.next=82;break;case 47:if(!s){e.next=82;break}if("AnyType"!==s.typeName&&"ExistentialType"!==s.typeName){e.next=52;break}return e.abrupt("return");case 52:d=!1,m=!0,k=!1,g=void 0,e.prev=56,b=s.errors(r,n,a)[Symbol.iterator]();case 58:if(m=(x=b.next()).done){e.next=66;break}return _=x.value,e.next=62,_;case 62:d=!0;case 63:m=!0,e.next=58;break;case 66:e.next=72;break;case 68:e.prev=68,e.t2=e.catch(56),k=!0,g=e.t2;case 72:e.prev=72,e.prev=73,!m&&b.return&&b.return();case 75:if(e.prev=75,!k){e.next=78;break}throw g;case 78:return e.finish(75);case 79:return e.finish(72);case 80:if(!d){e.next=82;break}return e.abrupt("return");case 82:u.recorded=i.typeOf(a);case 83:case"end":return e.stop()}},e,this,[[11,23,27,35],[28,,30,34],[56,68,72,80],[73,,75,79]])})},{key:"accepts",value:function(e){var r=this.typeParameter,n=this.context,a=r.recorded,u=r.bound;if(u instanceof t)return u.accepts(e);if(a)return!(u&&!u.accepts(e))&&(!!a.accepts(e)||(r.recorded=n.union(a,n.typeOf(e)),!0));if(u){if("AnyType"===u.typeName||"ExistentialType"===u.typeName)return!0;if(!u.accepts(e))return!1}return r.recorded=n.typeOf(e),!0}},{key:"compareWith",value:function(e){var r=this.typeParameter,n=this.context,a=r.recorded,u=r.bound;if(u instanceof t)return u.compareWith(e);if(a)return u&&-1===m(u,e)?-1:0===m(a,e)?0:(r.recorded=n.union(a,e),1);if(u){if("AnyType"===u.typeName||"ExistentialType"===u.typeName)return 1;if(-1===m(u,e))return-1}return r.recorded=e,0}},{key:"unwrap",value:function(){return this.typeParameter.unwrap()}},{key:"toString",value:function(e){return this.typeParameter.toString(e)}},{key:"toJSON",value:function(){return this.typeParameter.toJSON()}}]),t}(),Ae=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FunctionTypeRestParam",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.type,e.delegateYield(a.errors(t,r,n),"t0",2);case 2:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return this.type.accepts(e)}},{key:"compareWith",value:function(e){return e instanceof Re||e instanceof t?m(this.type,e.type):-1===m(this.type,e)?-1:1}},{key:"toString",value:function(){var e=this.type;return"..."+this.name+": "+e.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,type:this.type}}}]),t}(),Re=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FunctionTypeParam",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.optional,u=this.type,!a||void 0!==n){e.next=5;break}return e.abrupt("return");case 5:return e.delegateYield(u.errors(t,r,n),"t0",6);case 6:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.optional,r=this.type;return!(!t||void 0!==e)||r.accepts(e)}},{key:"compareWith",value:function(e){return e instanceof t||e instanceof Ae?m(this.type,e.type):m(this.type,e)}},{key:"toString",value:function(){var e=this.optional,t=this.type;return this.name+(e?"?":"")+": "+t.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,optional:this.optional,type:this.type}}}]),t}(),Ce=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FunctionTypeReturn",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.type,e.delegateYield(a.errors(t,r.concat("[[Return Type]]"),n),"t0",2);case 2:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return this.type.accepts(e)}},{key:"compareWith",value:function(e){return e instanceof t?m(this.type,e.type):-1===m(this.type,e)?-1:1}},{key:"unwrap",value:function(){return this.type}},{key:"toString",value:function(){return this.type.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(),Me=Symbol("Parent"),Ie=Symbol("NameRegistry"),We=Symbol("ModuleRegistry"),Le=Symbol("CurrentModule"),Xe=Symbol("TypeConstructorRegistry"),Je=Symbol("Inferrer"),Ye=Symbol("Type"),$e=Symbol("TypeParameters"),De=Symbol("TypePredicateRegistry"),Fe=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="FunctionType",n.params=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l,p;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("function"==typeof n){e.next=4;break}return e.next=3,[r,k("ERR_EXPECT_FUNCTION"),this];case 3:return e.abrupt("return");case 4:if(a=n[Ye],u=this.returnType,i=this.params,!a){e.next=29;break}if(a.params){e.next=9;break}return e.abrupt("return");case 9:o=0;case 10:if(!(o<i.length)){e.next=24;break}if(s=i[o],(c=a.params[o])||s.optional){e.next=18;break}return e.next=16,[r,k("ERR_EXPECT_ARGUMENT",s.name,s.type.toString()),this];case 16:e.next=21;break;case 18:if(s.acceptsType(c)){e.next=21;break}return e.next=21,[r,k("ERR_EXPECT_ARGUMENT",s.name,s.type.toString()),this];case 21:o++,e.next=10;break;case 24:if(u.acceptsType(a.returnType)){e.next=27;break}return e.next=27,[r,k("ERR_EXPECT_RETURN",u.toString()),this];case 27:e.next=32;break;case 29:for(f=this.context,l=0;l<i.length;l++)(p=i[l]).acceptsType(f.any());u.acceptsType(f.any());case 32:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){if("function"!=typeof e)return!1;var t=this.returnType,r=this.params,n=e[Ye];if(n){if(!n.params)return!0;for(var a=0;a<r.length;a++){var u=r[a],i=n.params[a];if(!i&&!u.optional)return!1;if(!u.acceptsType(i))return!1}return!!t.acceptsType(n.returnType)}for(var o=this.context,s=0;s<r.length;s++)r[s].acceptsType(o.any());return t.acceptsType(o.any()),!0}},{key:"compareWith",value:function(e){if(!(e instanceof t))return-1;var r=!1,n=m(this.returnType,e.returnType);if(-1===n)return-1;1===n&&(r=!0);for(var a=this.params,u=e.params,i=0;i<a.length;i++){var o=a[i],s=i>=u.length?e.rest:u[i];if(null==s)return-1;var c=m(o,s);if(-1===c)return-1;1===c&&(r=!0)}return r?1:0}},{key:"acceptsParams",value:function(){for(var e=this.params,t=this.rest,r=e.length,n=arguments.length,a=Array(n),u=0;u<n;u++)a[u]=arguments[u];for(var i=a.length,o=0;o<r;o++){var s=e[o];if(o<i){if(!s.accepts(a[o]))return!1}else if(!s.accepts(void 0))return!1}if(i>r&&t)for(var c=r;c<i;c++)if(!t.accepts(a[c]))return!1;return!0}},{key:"acceptsReturn",value:function(e){return this.returnType.accepts(e)}},{key:"assertParams",value:function(){for(var e=this.params,t=this.rest,r=e.length,n=arguments.length,a=Array(n),u=0;u<n;u++)a[u]=arguments[u];for(var i=a.length,o=0;o<r;o++){var s=e[o];o<i?s.assert(a[o]):s.assert(void 0)}if(i>r&&t)for(var c=r;c<i;c++)t.assert(a[c]);return a}},{key:"assertReturn",value:function(e){return this.returnType.assert(e),e}},{key:"invoke",value:function(){for(var e=this.params,t=this.rest,r=this.context,n=e.length,a=arguments.length,u=Array(a),i=0;i<a;i++)u[i]=arguments[i];for(var o=u.length,s=0;s<n;s++){var c=e[s];if(s<o){if(!c.acceptsType(u[s]))return r.empty()}else if(!c.accepts(void 0))return r.empty()}if(o>n&&t)for(var f=n;f<o;f++)if(!t.acceptsType(u[f]))return r.empty();return this.returnType.type}},{key:"toString",value:function(){for(var e=this.params,t=this.rest,r=this.returnType,n=[],a=0;a<e.length;a++)n.push(e[a].toString());return t&&n.push(t.toString()),"("+n.join(", ")+") => "+r.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,params:this.params,rest:this.rest,returnType:this.returnType}}}]),t}(),Ue=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="GeneratorType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n&&"function"==typeof n.next&&"function"==typeof n.return&&"function"==typeof n.throw){e.next=4;break}return e.next=4,[r,k("ERR_EXPECT_GENERATOR"),this];case 4:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return e&&"function"==typeof e.next&&"function"==typeof e.return&&"function"==typeof e.throw}},{key:"compareWith",value:function(e){if(!(e instanceof t))return-1===m(this.yieldType,e)?-1:1;var r=!1,n=m(this.yieldType,e.yieldType);return-1===n?-1:(1===n&&(r=!0),-1===(n=m(this.returnType,e.returnType))?-1:(1===n&&(r=!0),-1===(n=m(this.nextType,e.nextType))?-1:(1===n&&(r=!0),r?1:0)))}},{key:"acceptsYield",value:function(e){return this.yieldType.accepts(e)}},{key:"acceptsReturn",value:function(e){return this.returnType.accepts(e)}},{key:"acceptsNext",value:function(e){return this.nextType.accepts(e)}},{key:"assertYield",value:function(e){return this.yieldType.assert(e)}},{key:"assertReturn",value:function(e){return this.returnType.assert(e)}},{key:"assertNext",value:function(e){return this.nextType.assert(e)}},{key:"toString",value:function(){var e=this.yieldType,t=this.returnType,r=this.nextType;return"Generator<"+e.toString()+", "+t.toString()+", "+r.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,yieldType:this.yieldType,returnType:this.returnType,nextType:this.nextType}}}]),t}(),Be=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeParameterApplication",n.typeInstances=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return a=this.parent,u=this.typeInstances,e.delegateYield(a.errors.apply(a,[t,r,n].concat(pe(u))),"t0",2);case 2:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.parent,r=this.typeInstances;return t.accepts.apply(t,[e].concat(pe(r)))}},{key:"compareWith",value:function(e){var t;return(t=this.parent).compareWith.apply(t,[e].concat(pe(this.typeInstances)))}},{key:"hasProperty",value:function(e){var t=this.parent;if(t&&"function"==typeof t.hasProperty){var r;return(r=t).hasProperty.apply(r,[e].concat(pe(this.typeInstances)))}return!1}},{key:"getProperty",value:function(e){var t=this.parent;if(t&&"function"==typeof t.getProperty){var r;return(r=t).getProperty.apply(r,[e].concat(pe(this.typeInstances)))}}},{key:"unwrap",value:function(){var e;return(e=this.parent).unwrap.apply(e,pe(this.typeInstances))}},{key:"toString",value:function(){var e=this.parent,t=this.typeInstances,r=e.name;if(t.length){for(var n=[],a=0;a<t.length;a++){var u=t[a];n.push(u.toString())}return r+"<"+n.join(", ")+">"}return r}},{key:"toJSON",value:function(){return{typeName:this.typeName,typeInstances:this.typeInstances}}}]),t}(),Ve=new WeakSet,Ge=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeConstructor",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.context,r=this.name;return Ve.has(this)||(t.emitWarningMessage("TypeConstructor "+r+" does not implement accepts()."),Ve.add(this)),!1}},{key:"compareWith",value:function(e){var t=this.context,r=this.name;return Ve.has(this)||(t.emitWarningMessage("TypeConstructor "+r+" does not implement compareWith()."),Ve.add(this)),-1}},{key:"inferTypeParameters",value:function(e){return[]}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){return this.name}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name}}}]),t}(),ze=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="GenericType",a=r,fe(n,a)}return se(t,Ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.name,u=this.impl,i=this.context,n instanceof u){e.next=9;break}if(!(o=i.getAnnotation(u))){e.next=7;break}return e.delegateYield(o.errors(t,r,n),"t0",5);case 5:e.next=9;break;case 7:return e.next=9,[r,k("ERR_EXPECT_INSTANCEOF",a),this];case 9:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.context,r=this.impl;if(e instanceof r)return!0;var n=t.getAnnotation(r);return!!n&&n.accepts(e)}},{key:"compareWith",value:function(e){var r=this.context,n=this.impl,a=r.getAnnotation(n);if(a){for(var u=arguments.length,i=Array(u>1?u-1:0),o=1;o<u;o++)i[o-1]=arguments[o];return m(e,a.unwrap.apply(a,pe(i)))}return e instanceof t&&(e.impl===n||n&&n.isPrototypeOf(e.impl))?0:-1}},{key:"unwrap",value:function(){var e=this.context,t=this.impl;if("function"!=typeof t)return this;var r=e.getAnnotation(t);return null!=r?r.unwrap.apply(r,arguments):this}},{key:"inferTypeParameters",value:function(e){return[]}}]),t}(),Ke=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="NullLiteralType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null===n){e.next=3;break}return e.next=3,[r,k("ERR_EXPECT_NULL"),this];case 3:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return null===e}},{key:"compareWith",value:function(e){return e instanceof t?0:-1}},{key:"toString",value:function(){return"null"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),He=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="VoidType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(void 0===n){e.next=3;break}return e.next=3,[r,k("ERR_EXPECT_VOID"),this];case 3:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return void 0===e}},{key:"compareWith",value:function(e){return e instanceof t?0:-1}},{key:"toString",value:function(){return"void"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),Ze=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="NullableType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null==n){e.next=2;break}return e.delegateYield(this.type.errors(t,r,n),"t0",2);case 2:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return null==e||this.type.accepts(e)}},{key:"compareWith",value:function(e){return e instanceof Ke||e instanceof He?1:e instanceof t?m(this.type,e.type):-1===m(this.type,e)?-1:1}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return"? "+this.type.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(),qe=[_].map(ne.mark),Qe=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ObjectTypeProperty",n.static=!1,n.constraints=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"addConstraint",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.apply(void 0,[this].concat(pe(t))),this}},{key:"isNullable",value:function(){return this.value instanceof Ze}},{key:"existsOn",value:function(e){return this.key in(this.static?e.constructor:e)==!0}},{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l,p,y,h,v,d;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.optional,u=this.key,i=this.value,o=this.static,s=void 0,c=void 0,!o){e.next=18;break}if(null!==n&&("object"===(void 0===n?"undefined":ae(n))||"function"==typeof n)){e.next=8;break}return e.next=7,[r,k("ERR_EXPECT_OBJECT"),this];case 7:return e.abrupt("return");case 8:if(c=r.concat("constructor"),"function"==typeof n.constructor){e.next=14;break}if(a){e.next=13;break}return e.next=13,[c,k("ERR_EXPECT_FUNCTION"),this];case 13:return e.abrupt("return");case 14:c.push(u),s=n.constructor[u],e.next=20;break;case 18:s=n[u],c=r.concat(u);case 20:if(!a||void 0!==s){e.next=22;break}return e.abrupt("return");case 22:if(!this.isNullable()||this.existsOn(n)){e.next=26;break}return e.next=25,[c,k("ERR_MISSING_PROPERTY"),this];case 25:return e.abrupt("return");case 26:f=!1,l=!0,p=!1,y=void 0,e.prev=30,h=i.errors(t,c,s)[Symbol.iterator]();case 32:if(l=(v=h.next()).done){e.next=40;break}return d=v.value,f=!0,e.next=37,d;case 37:l=!0,e.next=32;break;case 40:e.next=46;break;case 42:e.prev=42,e.t0=e.catch(30),p=!0,y=e.t0;case 46:e.prev=46,e.prev=47,!l&&h.return&&h.return();case 49:if(e.prev=49,!p){e.next=52;break}throw y;case 52:return e.finish(49);case 53:return e.finish(46);case 54:if(f){e.next=56;break}return e.delegateYield(_(this,t,c,s),"t1",56);case 56:case"end":return e.stop()}},e,this,[[30,42,46,54],[47,,49,53]])})},{key:"accepts",value:function(e){var t=this.optional,r=this.key,n=this.value,a=void 0;if(this.static){if(null===e||"object"!==(void 0===e?"undefined":ae(e))&&"function"!=typeof e)return!1;if("function"!=typeof e.constructor)return!!t;a=e.constructor[r]}else a=e[r];return!(!t||void 0!==a)||!(this.isNullable()&&!this.existsOn(e))&&(!!n.accepts(a)&&w(this,a))}},{key:"compareWith",value:function(e){return e instanceof t?e.key!==this.key?-1:m(this.value,e.value):-1}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){var e=this.key;return"symbol"===(void 0===e?"undefined":ae(e))&&(e="["+e.toString()+"]"),this.static?"static "+e+(this.optional?"?":"")+": "+this.value.toString()+";":e+(this.optional?"?":"")+": "+this.value.toString()+";"}},{key:"toJSON",value:function(){return{typeName:this.typeName,key:this.key,value:this.value,optional:this.optional}}}]),t}(),et=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ObjectTypeIndexer",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n,a){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return"NumberType"!==this.key.typeName&&"NumericLiteralType"!==this.key.typeName||(n=+n),e.delegateYield(this.key.errors(t,r.concat("[[Key]]"),n),"t0",2);case 2:return e.delegateYield(this.value.errors(t,r.concat(n),a),"t1",3);case 3:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return this.value.accepts(e)}},{key:"acceptsKey",value:function(e){return"NumberType"!==this.key.typeName&&"NumericLiteralType"!==this.key.typeName||(e=+e),this.key.accepts(e)}},{key:"acceptsValue",value:function(e){return this.value.accepts(e)}},{key:"compareWith",value:function(e){if(e instanceof Qe)return this.key.accepts(e.key)?m(this.value,e.value):-1;if(!(e instanceof t))return-1;var r=m(this.key,e.key);if(-1===r)return-1;var n=m(this.value,e.value);return-1===n?-1:0===r&&0===n?0:1}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){return"["+this.id+": "+this.key.toString()+"]: "+this.value.toString()+";"}},{key:"toJSON",value:function(){return{typeName:this.typeName,id:this.id,key:this.key,value:this.value}}}]),t}(),tt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ObjectTypeCallProperty",n.static=!1,a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.value,u=this.static,i=void 0,o=void 0,!u){e.next=16;break}if(null!==n&&("object"===(void 0===n?"undefined":ae(n))||"function"==typeof n)){e.next=8;break}return e.next=7,[r,k("ERR_EXPECT_OBJECT"),this];case 7:return e.abrupt("return");case 8:if(o=r.concat("constructor"),"function"==typeof n.constructor){e.next=13;break}return e.next=12,[o,k("ERR_EXPECT_FUNCTION"),this];case 12:return e.abrupt("return");case 13:i=n.constructor,e.next=18;break;case 16:i=n,o=r;case 18:return e.delegateYield(a.errors(t,o,i),"t0",19);case 19:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.value,r=void 0;if(this.static){if(null===e||"object"!==(void 0===e?"undefined":ae(e))&&"function"!=typeof e)return!1;if("function"!=typeof e.constructor)return!1;r=e.constructor}else r=e;return t.accepts(r)}},{key:"compareWith",value:function(e){return e instanceof t?m(this.value,e.value):-1}},{key:"unwrap",value:function(){return this.value.unwrap()}},{key:"toString",value:function(){return this.static?"static "+this.value.toString()+";":this.value.toString()}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),t}(),rt=function(e){function t(){return ue(this,t),fe(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return se(t,ge),t}(),nt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="VarDeclaration",n.constraints=[],a=r,fe(n,a)}return se(t,rt),ie(t,[{key:"addConstraint",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.apply(void 0,[this].concat(pe(t))),this}},{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.type,u=!1,i=!0,o=!1,s=void 0,e.prev=5,c=a.errors(t,r,n)[Symbol.iterator]();case 7:if(i=(f=c.next()).done){e.next=15;break}return l=f.value,u=!0,e.next=12,l;case 12:i=!0,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),o=!0,s=e.t0;case 21:e.prev=21,e.prev=22,!i&&c.return&&c.return();case 24:if(e.prev=24,!o){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:if(u){e.next=31;break}return e.delegateYield(_(this,t,r,n),"t1",31);case 31:case"end":return e.stop()}},e,this,[[5,17,21,29],[22,,24,28]])})},{key:"accepts",value:function(e){return!!this.type.accepts(e)&&!!w(this,e)}},{key:"compareWith",value:function(e){return m(this.type,e)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return"declare var "+this.name+": "+this.type.toString()+";"}}]),t}(),at=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeDeclaration",a=r,fe(n,a)}return se(t,rt),ie(t,[{key:"addConstraint",value:function(){var e;return(e=this.typeAlias).addConstraint.apply(e,arguments),this}},{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.typeAlias.errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"apply",value:function(){var e;return(e=this.typeAlias).apply.apply(e,arguments)}},{key:"accepts",value:function(e){return this.typeAlias.accepts(e)}},{key:"compareWith",value:function(e){return m(this.typeAlias,e)}},{key:"hasProperty",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return(t=this.typeAlias).hasProperty.apply(t,[e].concat(pe(n)))}},{key:"getProperty",value:function(e){for(var t,r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return(t=this.typeAlias).getProperty.apply(t,[e].concat(pe(n)))}},{key:"unwrap",value:function(){var e;return(e=this.typeAlias).unwrap.apply(e,arguments)}},{key:"toString",value:function(){return"declare "+this.typeAlias.toString(!0)+";"}},{key:"type",get:function(){return this.typeAlias.type}}]),t}(),ut=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ModuleDeclaration",a=r,fe(n,a)}return se(t,rt),ie(t,[{key:"get",value:function(e){var t=this.moduleExports;if(t){var r=t.unwrap();if("function"==typeof r.getProperty){var n=r.getProperty(e);if(n)return n.unwrap()}}else{var a=this.declarations[e];if(a)return a.unwrap()}}},{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})},{key:"import",value:function(e){return/^\.\//.test(e)&&(e=""+this.name+e.slice(1)),this.innerContext.import(e)}},{key:"toString",value:function(){var e=this.name,t=this.declarations,r=this.modules,n=this.moduleExports,a=[];for(var u in t){var i=t[u];a.push(i.toString(!0))}if(r)for(var o in r){var s=r[o];a.push(s.toString())}return n&&a.push(n.toString()),'declare module "'+e+'" {\n'+T(a.join("\n\n"))+"}"}},{key:"moduleType",get:function(){return this.moduleExports?"commonjs":"es6"}},{key:"isCommonJS",get:function(){return!!this.moduleExports}},{key:"isES6",get:function(){return!this.moduleExports}},{key:"declarations",get:function(){return this.innerContext[Ie]}},{key:"modules",get:function(){return this.innerContext[We]}}]),t}(),it=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ModuleExports",a=r,fe(n,a)}return se(t,rt),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.type.errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return"declare module.exports: "+this.type.toString()+";"}}]),t}(),ot=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ClassDeclaration",n.shapeID=Symbol(),a=r,fe(n,a)}return se(t,rt),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l,p,y,h,v,d;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.body,u=this.superClass&&this.superClass.unwrap(),null!==n&&("object"===(void 0===n?"undefined":ae(n))||"function"==typeof n)){e.next=6;break}return e.next=5,[r,k("ERR_EXPECT_INSTANCEOF",this.name),this];case 5:return e.abrupt("return");case 6:if(!u){e.next=42;break}i=!0,o=!1,s=void 0,e.prev=10,c=u.errors(t,r,n)[Symbol.iterator]();case 12:if(i=(f=c.next()).done){e.next=28;break}if(l=f.value,p=le(l,3),y=p[0],h=p[1],v=p[2],d=y[r.length],!a.getProperty(d)){e.next=23;break}return e.abrupt("continue",25);case 23:return e.next=25,[y,h,v];case 25:i=!0,e.next=12;break;case 28:e.next=34;break;case 30:e.prev=30,e.t0=e.catch(10),o=!0,s=e.t0;case 34:e.prev=34,e.prev=35,!i&&c.return&&c.return();case 37:if(e.prev=37,!o){e.next=40;break}throw s;case 40:return e.finish(37);case 41:return e.finish(34);case 42:return e.delegateYield(a.errors(t,r,n),"t1",43);case 43:case"end":return e.stop()}},e,this,[[10,30,34,42],[35,,37,41]])})},{key:"accepts",value:function(e){var t=this.body,r=this.superClass&&this.superClass.unwrap();return null!==e&&("object"===(void 0===e?"undefined":ae(e))||"function"==typeof e)&&(!(r&&!r.accepts(e))&&!!t.accepts(e))}},{key:"compareWith",value:function(e){return e instanceof t?e===this?0:this.isSuperClassOf(e)?1:-1:m(this.body,e)}},{key:"getProperty",value:function(e){var t=this.body,r=this.superClass,n=t.getProperty(e);return n||(r&&"function"==typeof r.getProperty?r.getProperty(e):void 0)}},{key:"hasProperty",value:function(e){var t=this.body,r=this.superClass;return!!t.hasProperty(e)||!(!r||"function"!=typeof r.hasProperty)&&r.hasProperty(e)}},{key:"isSuperClassOf",value:function(e){for(var r=this.body,n=this.shapeID,a=e;null!=a;){if(a===this||a===r||a.shapeID===n)return!0;a=a instanceof t?a.superClass:a.unwrap()}return!1}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"toString",value:function(e){var t=this.name,r=this.superClass,n=this.body;if(e){var a=r&&("string"==typeof r.name&&r.name||r.toString());return"declare class "+t+(a?" extends "+a:"")+" "+n.toString()}return t}},{key:"properties",get:function(){var e=this.body,t=this.superClass;if(null==t)return e.properties;for(var r=e.properties,n=t.unwrap().properties,a={},u={},i=[],o=0;o<n.length;o++){var s=n[o];i.push(s),s.static?u[s.key]=o:a[s.key]=o}for(var c=0;c<r.length;c++){var f=r[c];a[f.key]?i[c]=f:i.push(f)}return i}}]),t}(),st=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="PartialType",n.typeParameters=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"typeParameter",value:function(e,t,r){var n=new Se(this.context);return n.id=e,n.bound=t,n.default=r,this.typeParameters.push(n),n}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l,p;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.constraints,u=this.type,i=!1,o=!0,s=!1,c=void 0,e.prev=5,f=u.errors(t,r,n)[Symbol.iterator]();case 7:if(o=(l=f.next()).done){e.next=15;break}return p=l.value,i=!0,e.next=12,p;case 12:o=!0,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),s=!0,c=e.t0;case 21:e.prev=21,e.prev=22,!o&&f.return&&f.return();case 24:if(e.prev=24,!s){e.next=27;break}throw c;case 27:return e.finish(24);case 28:return e.finish(21);case 29:if(i||!a){e.next=31;break}return e.delegateYield(_(this,t,r,n),"t1",31);case 31:case"end":return e.stop()}},e,this,[[5,17,21,29],[22,,24,28]])})},{key:"accepts",value:function(e){var t=this.constraints;return!!this.type.accepts(e)&&!(t&&!w(this,e))}},{key:"compareWith",value:function(e){return e===this?0:m(this.type,e)}},{key:"toString",value:function(e){return this.type.toString(e)}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toJSON",value:function(){return{typeName:this.typeName,typeParameters:this.typeParameters,type:this.type}}}]),t}(),ct=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ParameterizedClassDeclaration",n.shapeID=Symbol(),a=r,fe(n,a)}return se(t,rt),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){for(var a=arguments.length,u=Array(a>3?a-3:0),i=3;i<a;i++)u[i-3]=arguments[i];return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(O.apply(void 0,[this].concat(pe(u))).errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return O.apply(void 0,[this].concat(pe(r))).accepts(e)}},{key:"compareWith",value:function(e){return O(this).compareWith(e)}},{key:"unwrap",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return O.apply(void 0,[this].concat(pe(t))).type}},{key:"isSuperClassOf",value:function(e){return O(this).type.isSuperClassOf(e)}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"toString",value:function(e){if(!e)return this.name;var t=O(this),r=t.type,n=t.typeParameters;if(0===n.length)return t.toString(!0);for(var a=[],u=0;u<n.length;u++){var i=n[u];a.push(i.toString(!0))}var o=r.superClass,s=r.body,c=o&&("string"==typeof o.name&&o.name||o.toString());return"declare class "+this.name+"<"+a.join(", ")+">"+(c?" extends "+c:"")+" "+s.toString()}},{key:"toJSON",value:function(){return O(this).toJSON()}},{key:"superClass",get:function(){return O(this).type.superClass}},{key:"body",get:function(){return O(this).type.body}},{key:"properties",get:function(){return O(this).type.properties}},{key:"typeParameters",get:function(){return O(this).typeParameters}}]),t}(),ft=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ExtendsDeclaration",a=r,fe(n,a)}return se(t,rt),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.type.errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(e){var t=this.type;return e?"extends "+t.toString():t.toString()}}]),t}(),lt=[C,M,I].map(ne.mark),pt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ObjectType",n.properties=[],n.indexers=[],n.callProperties=[],n.exact=!1,a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"getProperty",value:function(e){for(var t=this.properties,r=t.length,n=0;n<r;n++){var a=t[n];if(a.key===e)return a}return this.getIndexer(e)}},{key:"hasProperty",value:function(e){for(var t=this.properties,r=t.length,n=0;n<r;n++)if(t[n].key===e)return!0;return this.hasIndexer(e)}},{key:"getIndexer",value:function(e){for(var t=this.indexers,r=t.length,n=0;n<r;n++){var a=t[n];if(a.acceptsKey(e))return a}}},{key:"hasIndexer",value:function(e){for(var t=this.indexers,r=t.length,n=0;n<r;n++)if(t[n].acceptsKey(e))return!0;return!1}},{key:"errors",value:ne.mark(function e(t,r,n){var a;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==n){e.next=4;break}return e.next=3,[r,k("ERR_EXPECT_OBJECT"),this];case 3:return e.abrupt("return");case 4:if(!(a=this.callProperties.length>0)){e.next=11;break}if(P(this,n)){e.next=9;break}return e.next=9,[r,k("ERR_EXPECT_CALLABLE"),this];case 9:e.next=15;break;case 11:if("object"===(void 0===n?"undefined":ae(n))){e.next=15;break}return e.next=14,[r,k("ERR_EXPECT_OBJECT"),this];case 14:return e.abrupt("return");case 15:if(!t.inCycle(this,n)){e.next=17;break}return e.abrupt("return");case 17:if(t.startCycle(this,n),!(this.indexers.length>0)){e.next=22;break}return e.delegateYield(C(this,t,r,n),"t0",20);case 20:e.next=27;break;case 22:if(!this.exact){e.next=26;break}return e.delegateYield(I(this,t,r,n),"t1",24);case 24:e.next=27;break;case 26:return e.delegateYield(M(this,t,r,n),"t2",27);case 27:t.endCycle(this,n);case 28:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){if(null===e)return!1;if(this.callProperties.length>0){if(!P(this,e))return!1}else if("object"!==(void 0===e?"undefined":ae(e)))return!1;if(n(this,e))return!0;a(this,e);var t=void 0;return t=this.indexers.length>0?N(this,e):this.exact?A(this,e):j(this,e),u(this,e),t}},{key:"compareWith",value:function(e){if(!(e instanceof t||e instanceof ot||e instanceof ct))return-1;var r=!1;if(this.callProperties.length>0){var n=E(this,e);if(-1===n)return-1;1===n&&(r=!0)}var a=void 0;return-1===(a=this.indexers.length>0?S(this,e):R(this,e))?-1:r?1:a}},{key:"toString",value:function(){var e=this.callProperties,t=this.properties,r=this.indexers;if(i(this))return"$Cycle<Object>";o(this);for(var n=[],a=0;a<e.length;a++)n.push(e[a].toString());for(var u=0;u<t.length;u++)n.push(t[u].toString());for(var c=0;c<r.length;c++)n.push(r[c].toString());return s(this),this.exact?"{|\n"+W(n.join("\n"))+"\n|}":"{\n"+W(n.join("\n"))+"\n}"}},{key:"toJSON",value:function(){return{typeName:this.typeName,callProperties:this.callProperties,properties:this.properties,indexers:this.indexers,exact:this.exact}}}]),t}(),yt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="IntersectionType",n.types=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.types,u=a.length,i=0;case 3:if(!(i<u)){e.next=8;break}return e.delegateYield(a[i].errors(t,r,n),"t0",5);case 5:i++,e.next=3;break;case 8:case"end":return e.stop()}},e,this)})},{key:"getProperty",value:function(e){for(var t=this.types,r=t.length-1;r>=0;r--){var n=t[r];if("function"==typeof n.getProperty){var a=n.getProperty(e);if(a)return a}}}},{key:"hasProperty",value:function(e){for(var t=this.types,r=t.length,n=0;n<r;n++){var a=t[n];if("function"==typeof a.hasProperty&&a.hasProperty(e))return!0}return!1}},{key:"accepts",value:function(e){for(var t=this.types,r=t.length,n=0;n<r;n++)if(!t[n].accepts(e))return!1;return!0}},{key:"compareWith",value:function(e){var r=this.types,n=0;if(e instanceof t){var a=e.types;e:for(var u=0;u<r.length;u++){for(var i=r[u],o=0;o<a.length;o++){var s=m(i,a[u]);if(0===s){n++;continue e}if(1===s)continue e}return-1}return n===r.length?0:1}for(var c=0;c<r.length;c++){var f=m(r[c],e);if(-1===f)return-1;0===f&&n++}return n===r.length?0:1}},{key:"unwrap",value:function(){for(var e,t=[],r=[],n=[],a=this.types,u=this.context,i=0;i<a.length;i++){var o=a[i].unwrap();b(o instanceof pt,"Can only intersect object types"),t.push.apply(t,pe(o.callProperties)),n.push.apply(n,pe(o.indexers)),X(r,o.properties)}return(e=u).object.apply(e,t.concat(r,n))}},{key:"toString",value:function(){return this.types.join(" & ")}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),t}(),ht=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="MixedType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return!0}},{key:"toString",value:function(){return"mixed"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),vt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeAlias",n.constraints=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"addConstraint",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.apply(void 0,[this].concat(pe(t))),this}},{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.type,u=!1,i=!0,o=!1,s=void 0,e.prev=5,c=a.errors(t,r,n)[Symbol.iterator]();case 7:if(i=(f=c.next()).done){e.next=15;break}return l=f.value,u=!0,e.next=12,l;case 12:i=!0,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),o=!0,s=e.t0;case 21:e.prev=21,e.prev=22,!i&&c.return&&c.return();case 24:if(e.prev=24,!o){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:if(u){e.next=31;break}return e.delegateYield(_(this,t,r,n),"t1",31);case 31:case"end":return e.stop()}},e,this,[[5,17,21,29],[22,,24,28]])})},{key:"accepts",value:function(e){return!!this.type.accepts(e)&&!!w(this,e)}},{key:"compareWith",value:function(e){return e===this?0:this.hasConstraints?-1:m(this.type,e)}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"hasProperty",value:function(e){var t=this.unwrap();return!(!t||"function"!=typeof t.hasProperty)&&t.hasProperty(e)}},{key:"getProperty",value:function(e){var t=this.unwrap();if(t&&"function"==typeof t.getProperty)return t.getProperty(e)}},{key:"toString",value:function(e){var t=this.name,r=this.type;return e?"type "+t+" = "+r.toString()+";":t}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name,type:this.type}}},{key:"properties",get:function(){return this.type.properties}},{key:"hasConstraints",get:function(){return this.constraints.length>0}}]),t}(),dt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="NumericLiteralType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.value,n===a){e.next=4;break}return e.next=4,[r,k("ERR_EXPECT_EXACT_VALUE",a),this];case 4:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return e===this.value}},{key:"compareWith",value:function(e){return e instanceof t&&e.value===this.value?0:-1}},{key:"toString",value:function(){return""+this.value}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),t}(),mt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="NumberType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("number"==typeof n){e.next=3;break}return e.next=3,[r,k("ERR_EXPECT_NUMBER"),this];case 3:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return"number"==typeof e}},{key:"compareWith",value:function(e){return e instanceof t?0:e instanceof dt?1:-1}},{key:"toString",value:function(){return"number"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),kt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ParameterizedTypeAlias",a=r,fe(n,a)}return se(t,vt),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){for(var a=arguments.length,u=Array(a>3?a-3:0),i=3;i<a;i++)u[i-3]=arguments[i];return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(J.apply(void 0,[this].concat(pe(u))).errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return!!J.apply(void 0,[this].concat(pe(r))).accepts(e)&&!!w(this,e)}},{key:"compareWith",value:function(e){return e===this?0:this.hasConstraints?-1:m(J(this),e)}},{key:"hasProperty",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=this.unwrap.apply(this,pe(r));return!(!a||"function"!=typeof a.hasProperty)&&a.hasProperty.apply(a,[e].concat(pe(r)))}},{key:"getProperty",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=this.unwrap.apply(this,pe(r));if(a&&"function"==typeof a.getProperty)return a.getProperty.apply(a,[e].concat(pe(r)))}},{key:"unwrap",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return J.apply(void 0,[this].concat(pe(t))).unwrap()}},{key:"toString",value:function(e){for(var t=J(this),r=t.typeParameters,n=[],a=0;a<r.length;a++){var u=r[a];n.push(u.toString(!0))}var i=this.name,o=r.length>0?i+"<"+n.join(", ")+">":i;return e?"type "+o+" = "+t.toString()+";":o}},{key:"toJSON",value:function(){return J(this).toJSON()}},{key:"properties",get:function(){return J(this).type.properties}}]),t}(),gt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ParameterizedFunctionType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){for(var a=arguments.length,u=Array(a>3?a-3:0),i=3;i<a;i++)u[i-3]=arguments[i];return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(Y.apply(void 0,[this].concat(pe(u))).errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return Y.apply(void 0,[this].concat(pe(r))).accepts(e)}},{key:"compareWith",value:function(e){return m(Y(this),e)}},{key:"acceptsParams",value:function(){var e;return(e=Y(this).type).acceptsParams.apply(e,arguments)}},{key:"acceptsReturn",value:function(e){return Y(this).type.acceptsReturn(e)}},{key:"assertParams",value:function(){var e;return(e=Y(this).type).assertParams.apply(e,arguments)}},{key:"assertReturn",value:function(e){return Y(this).type.assertReturn(e)}},{key:"unwrap",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return Y.apply(void 0,[this].concat(pe(t))).unwrap()}},{key:"toString",value:function(){var e=Y(this),t=e.type,r=e.typeParameters;if(0===r.length)return t.toString();for(var n=[],a=0;a<r.length;a++){var u=r[a];n.push(u.toString(!0))}return"<"+n.join(", ")+"> "+t.toString()}},{key:"toJSON",value:function(){return Y(this).toJSON()}},{key:"typeParameters",get:function(){return Y(this).typeParameters}},{key:"params",get:function(){return Y(this).type.params}},{key:"rest",get:function(){return Y(this).type.rest}},{key:"returnType",get:function(){return Y(this).type.returnType}}]),t}(),bt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="RefinementType",n.constraints=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"addConstraint",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return x.apply(void 0,[this].concat(pe(t))),this}},{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.type,u=!1,i=!0,o=!1,s=void 0,e.prev=5,c=a.errors(t,r,n)[Symbol.iterator]();case 7:if(i=(f=c.next()).done){e.next=15;break}return l=f.value,u=!0,e.next=12,l;case 12:i=!0,e.next=7;break;case 15:e.next=21;break;case 17:e.prev=17,e.t0=e.catch(5),o=!0,s=e.t0;case 21:e.prev=21,e.prev=22,!i&&c.return&&c.return();case 24:if(e.prev=24,!o){e.next=27;break}throw s;case 27:return e.finish(24);case 28:return e.finish(21);case 29:if(u){e.next=31;break}return e.delegateYield(_(this,t,r,n),"t1",31);case 31:case"end":return e.stop()}},e,this,[[5,17,21,29],[22,,24,28]])})},{key:"accepts",value:function(e){return!!this.type.accepts(e)&&!!w(this,e)}},{key:"compareWith",value:function(e){return e===this?0:-1}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"hasProperty",value:function(e){var t=this.unwrap();return!(!t||"function"!=typeof t.hasProperty)&&t.hasProperty(e)}},{key:"getProperty",value:function(e){var t=this.unwrap();if(t&&"function"==typeof t.getProperty)return t.getProperty(e)}},{key:"toString",value:function(){return"$Refinment<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(),xt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="StringLiteralType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.value,n===a){e.next=4;break}return e.next=4,[r,k("ERR_EXPECT_EXACT_VALUE",this.toString()),this];case 4:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return e===this.value}},{key:"compareWith",value:function(e){return e instanceof t&&e.value===this.value?0:-1}},{key:"toString",value:function(){return JSON.stringify(this.value)}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),t}(),_t=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="StringType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("string"==typeof n){e.next=3;break}return e.next=3,[r,k("ERR_EXPECT_STRING"),this];case 3:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return"string"==typeof e}},{key:"compareWith",value:function(e){return e instanceof xt?1:e instanceof t?0:-1}},{key:"toString",value:function(){return"string"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),wt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="SymbolLiteralType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.value,n===a){e.next=4;break}return e.next=4,[r,k("ERR_EXPECT_EXACT_VALUE",this.toString()),this];case 4:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return e===this.value}},{key:"compareWith",value:function(e){return e instanceof t&&e.value===this.value?0:-1}},{key:"toString",value:function(){return"typeof "+String(this.value)}},{key:"toJSON",value:function(){return{typeName:this.typeName,value:this.value}}}]),t}(),Tt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="SymbolType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if("symbol"===(void 0===n?"undefined":ae(n))){e.next=3;break}return e.next=3,[r,k("ERR_EXPECT_SYMBOL"),this];case 3:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return"symbol"===(void 0===e?"undefined":ae(e))}},{key:"compareWith",value:function(e){return e instanceof wt?1:e instanceof t?0:-1}},{key:"toString",value:function(){return"Symbol"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),Ot=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ThisType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.recorded,n!==a){e.next=5;break}return e.abrupt("return");case 5:if(!("function"==typeof a&&n instanceof a)){e.next=9;break}return e.abrupt("return");case 9:if(null==a){e.next=12;break}return e.next=12,[r,k("ERR_EXPECT_THIS"),this];case 12:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.recorded;return e===t||("function"==typeof t&&e instanceof t||null==t)}},{key:"compareWith",value:function(e){return e instanceof t?e.recorded&&this.recorded?e.recorded===this.recorded?0:-1:this.recorded?0:1:-1}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(e){return"this"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),Pt=new WeakSet,Et=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeBox",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.type.errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return this.type.accepts(e)}},{key:"compareWith",value:function(e){return m(this.type,e)}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=this.type;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return this.type.toString()}},{key:"toJSON",value:function(){return this.type.toJSON()}},{key:"name",get:function(){return this.type.name}},{key:"type",get:function(){var e=(0,this.reveal)();return e?e instanceof ge?e:this.context.ref(e):(Pt.has(this)||(this.context.emitWarningMessage("Failed to reveal boxed type."),Pt.add(this)),this.context.mixed())}}]),t}(),Nt={},St=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeReference",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.type.errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return this.type.accepts(e)}},{key:"compareWith",value:function(e){return m(this.type,e)}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=this;for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return this.type.unwrap()}},{key:"toString",value:function(){return this.name}},{key:"toJSON",value:function(){return{typeName:this.typeName,name:this.name}}},{key:"type",get:function(){var e=this.context,t=this.name,r=e.get(t);return r||(Nt[t]||(e.emitWarningMessage("Cannot resolve type: "+t),Nt[t]=!0),e.any())}}]),t}(),jt=new WeakSet,At=Symbol("RevealedName"),Rt=Symbol("RevealedValue"),Ct=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="TypeTDZ",n[At]=void 0,n[Rt]=void 0,a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield($(this).errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return $(this).accepts(e)}},{key:"compareWith",value:function(e){return m($(this),e)}},{key:"apply",value:function(){var e=new Be(this.context);e.parent=$(this);for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.typeInstances=r,e}},{key:"unwrap",value:function(){return $(this).unwrap()}},{key:"hasProperty",value:function(e){var t=this.unwrap();return!(!t||"function"!=typeof t.hasProperty)&&t.hasProperty(e)}},{key:"getProperty",value:function(e){var t=this.unwrap();if(t&&"function"==typeof t.getProperty)return t.getProperty(e)}},{key:"toString",value:function(){return $(this).toString()}},{key:"toJSON",value:function(){return $(this).toJSON()}},{key:"name",get:function(){var e=this[At];return e||(e=$(this).name),e},set:function(e){this[At]=e}}]),t}(),Mt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="UnionType",n.types=[],a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:a=this.types,u=a.length,i=0;case 3:if(!(i<u)){e.next=10;break}if(!(o=a[i]).accepts(n)){e.next=7;break}return e.abrupt("return");case 7:i++,e.next=3;break;case 10:return e.next=12,[r,k("ERR_NO_UNION",this.toString()),this];case 12:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){for(var t=this.types,r=t.length,n=0;n<r;n++)if(t[n].accepts(e))return!0;return!1}},{key:"compareWith",value:function(e){var r=this.types;if(e instanceof t){var n=e.types,a=0;e:for(var u=0;u<r.length;u++){for(var i=r[u],o=0;o<n.length;o++){var s=m(i,n[u]);if(0===s){a++;continue e}if(1===s)continue e}return-1}return a===r.length?0:1}for(var c=0;c<r.length;c++)if(m(r[c],e)>=0)return 1;return-1}},{key:"toString",value:function(){for(var e=this.types,t=new Array(e.length),r=0;r<e.length;r++){var n=e[r];"FunctionType"===n.typeName||"ParameterizedFunctionType"===n.typeName?t[r]="("+n.toString()+")":t[r]=n.toString()}return t.join(" | ")}},{key:"toJSON",value:function(){return{typeName:this.typeName,types:this.types}}}]),t}(),It=function(){function e(t){ue(this,e),this.context=t}return ie(e,[{key:"infer",value:function(e){var t=this.inferPrimitive(e);if(t)return t;var r=new Map;return this.inferComplex(e,r)}},{key:"inferInternal",value:function(e,t){var r=this.inferPrimitive(e);return r||this.inferComplex(e,t)}},{key:"inferPrimitive",value:function(e){var t=this.context;return null===e?t.null():void 0===e?t.void():"number"==typeof e?t.number():"boolean"==typeof e?t.boolean():"string"==typeof e?t.string():"symbol"===(void 0===e?"undefined":ae(e))?t.symbol(e):void 0}},{key:"inferComplex",value:function(e,t){var r=this.context;return"function"==typeof e?this.inferFunction(e,t):null!==e&&"object"===(void 0===e?"undefined":ae(e))?this.inferObject(e,t):r.any()}},{key:"inferFunction",value:function(e,t){for(var r=this.context,n=e.length,a=new Array(n+1),u=0;u<n;u++)a[u]=r.param(String.fromCharCode(97+u),r.existential());return a[n]=r.return(r.existential()),r.fn.apply(r,a)}},{key:"inferObject",value:function(e,t){var r=t.get(e);if(r)return r;var n=this.context,a=void 0,u=n.box(function(){return a});if(t.set(e,u),n.checkPredicate("Array",e))a=this.inferArray(e,t);else if(e instanceof Object)if(e.constructor!==Object){var i=n.getTypeConstructor(e.constructor);if(i){var o=i.inferTypeParameters(e);a=i.apply.apply(i,pe(o))}else a=n.ref(e.constructor)}else{var s=[];for(var c in e){var f=e[c];s.push(n.property(c,this.inferInternal(f,t)))}a=n.object.apply(n,s)}else a=this.inferDict(e,t);return t.set(e,a),a}},{key:"inferDict",value:function(e,t){var r=[],n=[];e:for(var a in e){for(var u=e[a],i=isNaN(+a)?n:r,o=0;o<i.length;o++)if(i[o].accepts(u))continue e;i.push(this.inferInternal(u,t))}var s=this.context,c=[];return 1===r.length?c.push(s.indexer("index",s.number(),r[0])):r.length>1&&c.push(s.indexer("index",s.number(),s.union.apply(s,r))),1===n.length?c.push(s.indexer("key",s.string(),n[0])):n.length>1&&c.push(s.indexer("key",s.string(),s.union.apply(s,n))),s.object.apply(s,c)}},{key:"inferArray",value:function(e,t){var r=this.context,n=[],a=[],u=e.length;e:for(var i=0;i<u;i++){for(var o=e[i],s=this.inferInternal(o,t),c=0;c<n.length;c++)if(n[c].accepts(o)&&s.accepts(a[c]))continue e;n.push(s),a.push(o)}return 0===n.length?r.array(r.any()):1===n.length?r.array(n[0]):r.array(r.union.apply(r,n))}}]),e}(),Wt="\n-------------------------------------------------\n\n",Lt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$DiffType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.aType,u=this.bType,null!==n&&("object"===(void 0===n?"undefined":ae(n))||"function"==typeof n)){e.next=5;break}return e.next=4,[r,k("ERR_EXPECT_OBJECT"),this];case 4:return e.abrupt("return");case 5:a=a.unwrap(),u=u.unwrap(),b(a instanceof pt&&u instanceof pt,"Can only $Diff object types."),i=a.properties,o=0;case 10:if(!(o<i.length)){e.next=18;break}if(s=i[o],!u.hasProperty(s.key)){e.next=14;break}return e.abrupt("continue",15);case 14:return e.delegateYield(s.errors(t,r.concat(s.key),n),"t0",15);case 15:o++,e.next=10;break;case 18:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.aType,r=this.bType;if(null===e||"object"!==(void 0===e?"undefined":ae(e))&&"function"!=typeof e)return!1;t=t.unwrap(),r=r.unwrap(),b(t instanceof pt&&r instanceof pt,"Can only $Diff object types.");for(var n=t.properties,a=0;a<n.length;a++){var u=n[a];if(!r.hasProperty(u.key)&&!u.accepts(e))return!1}return!0}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){var e,t=this.aType,r=this.bType;t=t.unwrap(),r=r.unwrap(),b(t instanceof pt&&r instanceof pt,"Can only $Diff object types.");for(var n=t.properties,a=[],u=0;u<n.length;u++){var i=n[u];r.hasProperty(i.key)||a.push(i)}return(e=this.context).object.apply(e,a)}},{key:"toString",value:function(){return"$Diff<"+this.aType.toString()+", "+this.bType.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,aType:this.aType,bType:this.bType}}}]),t}(),Xt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$FlowFixMeType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r){arguments.length>2&&void 0!==arguments[2]&&arguments[2];return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return!0}},{key:"compareWith",value:function(e){return 1}},{key:"unwrap",value:function(){return this}},{key:"toString",value:function(){return"$FlowFixMe"}},{key:"toJSON",value:function(){return{typeName:this.typeName}}}]),t}(),Jt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$KeysType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:b((a=this.type.unwrap())instanceof pt,"Can only $Keys<T> object types."),u=a.properties,i=u.length,o=0;case 5:if(!(o<i)){e.next=12;break}if(s=u[o],n!==s.key){e.next=9;break}return e.abrupt("return");case 9:o++,e.next=5;break;case 12:for(c=new Array(i),f=0;f<i;f++)c[f]=u[f].key;return e.next=16,[r,k("ERR_NO_UNION",c.join(" | ")),this];case 16:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.type.unwrap();b(t instanceof pt,"Can only $Keys<T> object types.");for(var r=t.properties,n=r.length,a=0;a<n;a++)if(e===r[a].key)return!0;return!1}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){var e,t=this.context,r=this.type.unwrap();b(r instanceof pt,"Can only $Keys<T> object types.");for(var n=r.properties,a=n.length,u=new Array(a),i=0;i<a;i++){var o=n[i];u[i]=t.literal(o.key)}return(e=this.context).union.apply(e,u)}},{key:"toString",value:function(){return"$Keys<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(),Yt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$ObjMapiType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l,p,y,h,v,d;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.object,u=this.mapper,i=this.context,o=a.unwrap(),b(o instanceof pt,"Target must be an object type."),null!==n&&("object"===(void 0===n?"undefined":ae(n))||"function"==typeof n)){e.next=7;break}return e.next=6,[r,k("ERR_EXPECT_OBJECT"),this];case 6:return e.abrupt("return");case 7:s=!0,c=!1,f=void 0,e.prev=10,l=o.properties[Symbol.iterator]();case 12:if(s=(p=l.next()).done){e.next=22;break}return y=p.value,h=u.unwrap(),b(h instanceof Fe,"Mapper must be a function type."),v=h.invoke(i.literal(y.key),y.value),d=n[y.key],e.delegateYield(v.errors(t,r.concat(y.key),d),"t0",19);case 19:s=!0,e.next=12;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(10),c=!0,f=e.t1;case 28:e.prev=28,e.prev=29,!s&&l.return&&l.return();case 31:if(e.prev=31,!c){e.next=34;break}throw f;case 34:return e.finish(31);case 35:return e.finish(28);case 36:case"end":return e.stop()}},e,this,[[10,24,28,36],[29,,31,35]])})},{key:"accepts",value:function(e){var t=this.object,r=this.mapper,n=this.context,a=t.unwrap();if(b(a instanceof pt,"Target must be an object type."),null===e||"object"!==(void 0===e?"undefined":ae(e))&&"function"!=typeof e)return!1;var u=!0,i=!1,o=void 0;try{for(var s,c=a.properties[Symbol.iterator]();!(u=(s=c.next()).done);u=!0){var f=s.value,l=r.unwrap();b(l instanceof Fe,"Mapper must be a function type.");var p=l.invoke(n.literal(f.key),f.value),y=e[f.key];if(!p.accepts(y))return!1}}catch(e){i=!0,o=e}finally{try{!u&&c.return&&c.return()}finally{if(i)throw o}}return!0}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){var e=this.object,t=this.mapper,r=this.context,n=e.unwrap();b(n instanceof pt,"Target must be an object type.");var a=[],u=!0,i=!1,o=void 0;try{for(var s,c=n.properties[Symbol.iterator]();!(u=(s=c.next()).done);u=!0){var f=s.value,l=t.unwrap();b(l instanceof Fe,"Mapper must be a function type."),a.push(r.property(f.key,l.invoke(r.literal(f.key),f.value)))}}catch(e){i=!0,o=e}finally{try{!u&&c.return&&c.return()}finally{if(i)throw o}}return r.object.apply(r,a)}},{key:"toString",value:function(){return"$ObjMapi<"+this.object.toString()+", "+this.mapper.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,object:this.object,mapper:this.mapper}}}]),t}(),$t=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$ObjMapType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l,p,y,h,v,d;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.object,u=this.mapper,i=this.context,o=a.unwrap(),b(o instanceof pt,"Target must be an object type."),null!==n&&("object"===(void 0===n?"undefined":ae(n))||"function"==typeof n)){e.next=7;break}return e.next=6,[r,k("ERR_EXPECT_OBJECT"),this];case 6:return e.abrupt("return");case 7:s=!0,c=!1,f=void 0,e.prev=10,l=o.properties[Symbol.iterator]();case 12:if(s=(p=l.next()).done){e.next=22;break}return y=p.value,h=u.unwrap(),b(h instanceof Fe,"Mapper must be a function type."),v=h.invoke(i.literal(y.key)),d=n[y.key],e.delegateYield(v.errors(t,r.concat(y.key),d),"t0",19);case 19:s=!0,e.next=12;break;case 22:e.next=28;break;case 24:e.prev=24,e.t1=e.catch(10),c=!0,f=e.t1;case 28:e.prev=28,e.prev=29,!s&&l.return&&l.return();case 31:if(e.prev=31,!c){e.next=34;break}throw f;case 34:return e.finish(31);case 35:return e.finish(28);case 36:case"end":return e.stop()}},e,this,[[10,24,28,36],[29,,31,35]])})},{key:"accepts",value:function(e){var t=this.object,r=this.mapper,n=this.context,a=t.unwrap();if(b(a instanceof pt,"Target must be an object type."),null===e||"object"!==(void 0===e?"undefined":ae(e))&&"function"!=typeof e)return!1;var u=!0,i=!1,o=void 0;try{for(var s,c=a.properties[Symbol.iterator]();!(u=(s=c.next()).done);u=!0){var f=s.value,l=r.unwrap();b(l instanceof Fe,"Mapper must be a function type.");var p=l.invoke(n.literal(f.key)),y=e[f.key];if(!p.accepts(y))return!1}}catch(e){i=!0,o=e}finally{try{!u&&c.return&&c.return()}finally{if(i)throw o}}return!0}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){var e=this.object,t=this.mapper,r=this.context,n=e.unwrap();b(n instanceof pt,"Target must be an object type.");var a=[],u=!0,i=!1,o=void 0;try{for(var s,c=n.properties[Symbol.iterator]();!(u=(s=c.next()).done);u=!0){var f=s.value,l=t.unwrap();b(l instanceof Fe,"Mapper must be a function type."),a.push(r.property(f.key,l.invoke(r.literal(f.key))))}}catch(e){i=!0,o=e}finally{try{!u&&c.return&&c.return()}finally{if(i)throw o}}return r.object.apply(r,a)}},{key:"toString",value:function(){return"$ObjMap<"+this.object.toString()+", "+this.mapper.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,object:this.object,mapper:this.mapper}}}]),t}(),Dt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$PropertyType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.unwrap().errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return this.unwrap().accepts(e)}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){var e=this.object,t=this.property,r=e.unwrap();return b("function"==typeof r.getProperty,"Can only use $PropertyType on Objects."),r.getProperty(t).unwrap()}},{key:"toString",value:function(){return"$PropertyType<"+this.object.toString()+", "+String(this.property)+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,object:this.object,property:this.property}}}]),t}(),Ft=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$ShapeType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.type,null!==n&&("object"===(void 0===n?"undefined":ae(n))||"function"==typeof n)){e.next=5;break}return e.next=4,[r,k("ERR_EXPECT_OBJECT"),this];case 4:return e.abrupt("return");case 5:b("function"==typeof(a=a.unwrap()).getProperty,"Can only $Shape<T> object types."),e.t0=ne.keys(n);case 8:if((e.t1=e.t0()).done){e.next=16;break}if(u=e.t1.value,i=a.getProperty(u)){e.next=13;break}return e.abrupt("continue",8);case 13:return e.delegateYield(i.errors(t,r,n),"t2",14);case 14:e.next=8;break;case 16:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.type;if(null===e||"object"!==(void 0===e?"undefined":ae(e))&&"function"!=typeof e)return!1;b("function"==typeof(t=t.unwrap()).getProperty,"Can only $Shape<T> object types.");for(var r in e){var n=t.getProperty(r);if(!n||!n.accepts(e))return!1}return!0}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){var e,t=this.type;t=t.unwrap();var r=this.context;b(t instanceof pt,"Can only $Shape<T> object types.");for(var n=t.properties,a=new Array(n.length),u=0;u<n.length;u++){var i=n[u];a[u]=r.property(i.key,i.value,!0)}return(e=this.context).object.apply(e,a)}},{key:"toString",value:function(){return"$Shape<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(),Ut=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$SubType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.type.errors(n,r),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return this.type.accepts(e)}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){return this.type}},{key:"toString",value:function(){return"$Subtype<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(),Bt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$SuperType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.delegateYield(this.type.errors(t,r,n),"t0",1);case 1:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){return this.type.accepts(e)}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){return this.type}},{key:"toString",value:function(){return"$Supertype<"+this.type.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,type:this.type}}}]),t}(),Vt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="$TupleMapType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o,s,c,f,l,p;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.tuple,u=this.mapper,i=this.context,o=a.unwrap(),b(o instanceof _e,"Target must be a tuple type."),i.checkPredicate("Array",n)){e.next=7;break}return e.next=6,[r,k("ERR_EXPECT_ARRAY"),this];case 6:return e.abrupt("return");case 7:s=0;case 8:if(!(s<o.types.length)){e.next=18;break}return c=o.types[s],f=u.unwrap(),b(f instanceof Fe,"Mapper must be a function type."),l=f.invoke(c),p=n[s],e.delegateYield(l.errors(t,r.concat(s),p),"t0",15);case 15:s++,e.next=8;break;case 18:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.tuple,r=this.mapper,n=this.context,a=t.unwrap();if(b(a instanceof _e,"Target must be a tuple type."),!n.checkPredicate("Array",e))return!1;for(var u=0;u<a.types.length;u++){var i=a.types[u],o=r.unwrap();if(b(o instanceof Fe,"Mapper must be a function type."),!o.invoke(i).accepts(e[u]))return!1}return!0}},{key:"compareWith",value:function(e){return m(this.unwrap(),e)}},{key:"unwrap",value:function(){var e=this.tuple,t=this.mapper,r=this.context,n=e.unwrap();b(n instanceof _e,"Target must be an tuple type.");for(var a=[],u=0;u<n.types.length;u++){var i=n.types[u],o=t.unwrap();b(o instanceof Fe,"Mapper must be a function type."),a.push(o.invoke(i).unwrap().unwrap())}return r.tuple.apply(r,a)}},{key:"toString",value:function(){return"$TupleMap<"+this.tuple.toString()+", "+this.mapper.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,tuple:this.tuple,mapper:this.mapper}}}]),t}(),Gt=function(e){function t(){var e,r,n,a;ue(this,t);for(var u=arguments.length,i=Array(u),o=0;o<u;o++)i[o]=arguments[o];return r=n=fe(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(i))),n.typeName="ClassType",a=r,fe(n,a)}return se(t,ge),ie(t,[{key:"errors",value:ne.mark(function e(t,r,n){var a,u,i,o;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(a=this.instanceType,u=this.context,"function"==typeof n){e.next=5;break}return e.next=4,[r,k("ERR_EXPECT_CLASS",a.toString()),this];case 4:return e.abrupt("return");case 5:if(i="ClassDeclaration"===a.typeName?a:a.unwrap(),o=i instanceof ze?Q(u,i,n):ee(u,i,n)){e.next=10;break}return e.next=10,[r,k("ERR_EXPECT_CLASS",a.toString()),this];case 10:case"end":return e.stop()}},e,this)})},{key:"accepts",value:function(e){var t=this.instanceType,r=this.context;if("function"!=typeof e)return!1;var n="ClassDeclaration"===t.typeName?t:t.unwrap();return n instanceof ze?Q(r,n,e):ee(r,n,e)}},{key:"compareWith",value:function(e){var r=this.instanceType;return e instanceof t?m(r,e.instanceType):-1}},{key:"toString",value:function(){return"Class<"+this.instanceType.toString()+">"}},{key:"toJSON",value:function(){return{typeName:this.typeName,instanceType:this.instanceType}}}]),t}(),zt=new WeakSet,Kt=function(){function r(){ue(this,r),this.mode="assert",this[Ie]={},this[De]={},this[Xe]=new Map,this[Je]=new It(this),this[We]={}}return ie(r,[{key:"makeJSONError",value:function(t){return e(t)}},{key:"makeTypeError",value:function(e){return v(e)}},{key:"createContext",value:function(){var e=new r;return e[Me]=this,e}},{key:"typeOf",value:function(e){var t=this.getAnnotation(e);if(t)return"function"==typeof e&&(t instanceof ot||t instanceof ct)?this.Class(t):t;var r=this[Je];return r.infer(e)}},{key:"compareTypes",value:function(e,t){return m(e,t)}},{key:"get",value:function(e){for(var r=this[Ie][e],n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];if(null!=r){for(var i="function"==typeof r?new r(this):r,o=0;o<a.length;o++){var s=a[o];if("function"!=typeof i.getProperty)return;if(!(i=i.getProperty(s)))return;i=i.unwrap()}return i}var c=this[Me];if(c){var f=c.get.apply(c,[e].concat(pe(a)));if(f)return f}if("function"==typeof t[e]){var l=new ze(this);return l.name=e,l.impl=t[e],this[Ie][e]=l,l}}},{key:"getPredicate",value:function(e){var t=this[De][e];if(t)return t;var r=this[Me];return r?r.getPredicate(e):void 0}},{key:"setPredicate",value:function(e,t){this[De][e]=t}},{key:"checkPredicate",value:function(e,t){var r=this.getPredicate(e);return!!r&&r(t)}},{key:"decorate",value:function(e,t){var r=this;return null==t&&(t="assert"===this.mode),function(n,a,u){return u&&"string"==typeof a?V(e,n,a,u,Boolean(t)):(b("function"!=typeof e,"Cannot decorate an object or function as a method."),r.annotate(n,e))}}},{key:"annotate",value:function(e,t){return void 0===t?q(e):q(e,t)}},{key:"getAnnotation",value:function(e){if(null!==e&&"object"===(void 0===e?"undefined":ae(e))||"function"==typeof e)return e[Ye]}},{key:"hasAnnotation",value:function(e){return null!=e&&!!e[Ye]}},{key:"setAnnotation",value:function(e,t){return e[Ye]=t,e}},{key:"type",value:function(e,t){if("function"==typeof t){var r=new kt(this);return r.name=e,r.typeCreator=t,r}var n=new vt(this);return n.name=e,n.type=t,n}},{key:"declare",value:function(e,t){if(e instanceof rt?e=(t=e).name:e instanceof vt&&(e=(t=e).name),"function"==typeof t&&(t=this.type(e,t)),t instanceof ut)return this[We][e]=t,t;b("string"==typeof e,"Name must be a string"),b(t instanceof ge,"Type must be supplied to declaration");var r=this[Ie];if(t instanceof rt)return r[e]=t,t;if(t instanceof vt||t instanceof kt){var n=new at(this);return n.name=e,n.typeAlias=t,r[e]=n,n}var a=this.var(e,t);return r[e]=a,a}},{key:"declarations",value:ne.mark(function e(){var t,r;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this[Ie],e.t0=ne.keys(t);case 2:if((e.t1=e.t0()).done){e.next=8;break}return r=e.t1.value,e.next=6,[r,t[r]];case 6:e.next=2;break;case 8:case"end":return e.stop()}},e,this)})},{key:"modules",value:ne.mark(function e(){var t,r;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=this[We],e.t0=ne.keys(t);case 2:if((e.t1=e.t0()).done){e.next=8;break}return r=e.t1.value,e.next=6,t[r];case 6:e.next=2;break;case 8:case"end":return e.stop()}},e,this)})},{key:"import",value:function(e){var t=this[We];if(t[e])return t[e];var r=e.split("/"),n=t[le(r,1)[0]];if(n)return n.import(e);var a=this[Me];return a?a.import(e):void 0}},{key:"declareTypeConstructor",value:function(e){var t=e.name,r=e.impl,n=e.typeName,a=e.errors,u=e.accepts,i=e.inferTypeParameters,o=this[Ie];o[t]&&this.emitWarningMessage("Redeclaring type: "+t+", this may be unintended.");var s=new Ge(this);if(s.name=t,s.typeName=n,s.impl=r,s.errors=a,s.accepts=u,s.inferTypeParameters=i,o[t]=s,"function"==typeof r){var c=this[Xe];c.has(r)&&this.emitWarningMessage("A type handler already exists for the given implementation of "+t+"."),c.set(r,s)}return s}},{key:"getTypeConstructor",value:function(e){var t=this[Xe];return t.get(e)}},{key:"literal",value:function(e){return void 0===e?this.void():null===e?this.null():"boolean"==typeof e?this.boolean(e):"number"==typeof e?this.number(e):"string"==typeof e?this.string(e):"symbol"===(void 0===e?"undefined":ae(e))?this.symbol(e):this.typeOf(e)}},{key:"null",value:function(){return re.null}},{key:"nullable",value:function(e){var t=new Ze(this);return t.type=e,t}},{key:"existential",value:function(){return re.existential}},{key:"empty",value:function(){return re.empty}},{key:"any",value:function(){return re.any}},{key:"mixed",value:function(){return re.mixed}},{key:"void",value:function(){return re.void}},{key:"this",value:function(e){var t=new Ot(this);return void 0!==e&&(t.recorded=e),t}},{key:"number",value:function(e){if(void 0!==e){var t=new dt(this);return t.value=e,t}return re.number}},{key:"boolean",value:function(e){if(void 0!==e){var t=new Te(this);return t.value=e,t}return re.boolean}},{key:"string",value:function(e){if(void 0!==e){var t=new xt(this);return t.value=e,t}return re.string}},{key:"symbol",value:function(e){if(void 0!==e){var t=new wt(this);return t.value=e,t}return re.symbol}},{key:"typeParameter",value:function(e,t,r){var n=new Se(this);return n.id=e,n.bound=t,n.default=r,n}},{key:"flowInto",value:function(e){return g(e)}},{key:"bindTypeParameters",value:function(e){var t=Object.getPrototypeOf(e),r=t&&Object.getPrototypeOf(t),n=r&&r.constructor;if(!n)return this.emitWarningMessage("Could not bind type parameters for non-existent parent class."),e;var a=n[$e];if(a){for(var u=e[a],i=Object.keys(u),o=arguments.length,s=Array(o>1?o-1:0),c=1;c<o;c++)s[c-1]=arguments[c];for(var f=Math.min(i.length,s.length),l=0;l<f;l++)u[i[l]].bound=s[l]}return e}},{key:"module",value:function(e,t){var r=new ut(this);r.name=e;var n=this.createContext();return n[Me]=this,n[Le]=r,r.innerContext=n,t(n),r}},{key:"moduleExports",value:function(e){var t=this[Le];if(!t)throw new Error("Cannot declare module.exports outside of a module.");var r=new it(this);return r.type=e,t.moduleExports=r,r}},{key:"var",value:function(e,t){var r=new nt(this);return r.name=e,r.type=t,r}},{key:"class",value:function(e,t){if("function"==typeof t){var r=new ct(this);return r.name=e,r.bodyCreator=t,r}var n=new ot(this);n.name=e;for(var a=arguments.length,u=Array(a>2?a-2:0),i=2;i<a;i++)u[i-2]=arguments[i];null!=t&&u.unshift(t);for(var o=u.length,s=[],c=void 0,f=0;f<o;f++){var l=u[f];if(l instanceof Qe||l instanceof et)s.push(l);else if(l instanceof pt)b(!c,"Class body must only be declared once."),c=l;else if(l instanceof ft)b(!n.superClass,"Classes can only have one super class."),n.superClass=l;else{if(null==l||"object"!==(void 0===l?"undefined":ae(l))||l instanceof ge)throw new Error("ClassDeclaration cannot contain the given type directly.");for(var p in l)s.push(this.property(p,l[p]))}}if(c||(c=new pt(this)),s.length){var y;(y=c.properties).push.apply(y,s)}return n.body=c,n}},{key:"extends",value:function(e){for(var t=new ft(this),r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.type=this.ref.apply(this,[e].concat(pe(n))),t}},{key:"fn",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];return this.function.apply(this,[e].concat(r))}},{key:"function",value:function(e){if("function"==typeof e){var t=new gt(this);return t.bodyCreator=e,t}var r=new Fe(this);if(null!=e){for(var n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];a.unshift(e);for(var i=a.length,o=0;o<i;o++){var s=a[o];if(s instanceof Re)r.params.push(s);else if(s instanceof Ae)r.rest=s;else{if(!(s instanceof Ce))throw new Error("FunctionType cannot contain the given type directly.");r.returnType=s}}}return r.returnType||(r.returnType=this.any()),r}},{key:"param",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Re(this);return n.name=e,n.type=t,n.optional=r,n}},{key:"rest",value:function(e,t){var r=new Ae(this);return r.name=e,r.type=t,r}},{key:"return",value:function(e){var t=new Ce(this);return t.type=e,t}},{key:"generator",value:function(e,t,r){var n=new Ue(this);return n.yieldType=e,n.returnType=t||this.any(),n.nextType=r||this.any(),n}},{key:"object",value:function(e){var t=new pt(this);if(null==e||"object"!==(void 0===e?"undefined":ae(e))||e instanceof ge){for(var r=void 0,n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];for(var i=(r=e?[e].concat(pe(a)):a).length,o=0;o<i;o++){var s=r[o];if(s instanceof Qe)t.properties.push(s);else if(s instanceof et)t.indexers.push(s);else{if(!(s instanceof tt))throw new Error("ObjectType cannot contain the given type directly.");t.callProperties.push(s)}}}else for(var c in e)t.properties.push(this.property(c,e[c]));return t}},{key:"exactObject",value:function(e){for(var t=arguments.length,r=Array(t>1?t-1:0),n=1;n<t;n++)r[n-1]=arguments[n];var a=this.object.apply(this,[e].concat(pe(r)));return a.exact=!0,a}},{key:"callProperty",value:function(e){var t=new tt(this);return t.value=e,t}},{key:"property",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=new Qe(this);return n.key=e,n.value=t instanceof ge?t:this.object(t),n.optional=r,n}},{key:"indexer",value:function(e,t,r){var n=new et(this);return n.id=e,n.key=t,n.value=r,n}},{key:"method",value:function(e,t){var r=new Qe(this);r.key=e;for(var n=arguments.length,a=Array(n>2?n-2:0),u=2;u<n;u++)a[u-2]=arguments[u];return r.value=this.function.apply(this,[t].concat(a)),r}},{key:"staticCallProperty",value:function(e){var t=this.callProperty(e);return t.static=!0,t}},{key:"staticProperty",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=this.property(e,t,r);return n.static=!0,n}},{key:"staticMethod",value:function(e,t){for(var r=arguments.length,n=Array(r>2?r-2:0),a=2;a<r;a++)n[a-2]=arguments[a];var u=this.method.apply(this,[e,t].concat(n));return u.static=!0,u}},{key:"tuple",value:function(){for(var e=new _e(this),t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.types=r,e}},{key:"array",value:function(e){var t=new we(this);return t.elementType=e||this.any(),t}},{key:"union",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return U(this,t)}},{key:"intersect",value:function(){for(var e=new yt(this),t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.types=r,e}},{key:"intersection",value:function(){return this.intersect.apply(this,arguments)}},{key:"box",value:function(e){var t=new Et(this);return t.reveal=e,t}},{key:"tdz",value:function(e,t){var r=new Ct(this);return r.reveal=e,r.name=t,r}},{key:"ref",value:function(e){var t=void 0;if("string"==typeof e)(t=this.get(e))||((t=new St(this)).name=e);else if("function"==typeof e){var r=this[Xe];(t=r.get(e))||((t=new ze(this)).impl=e,t.name=e.name)}else{if(!(e instanceof ge))return null==e||"object"!==(void 0===e?"undefined":ae(e))?this.emitWarningMessage("Could not reference the given type, try t.typeOf(value) instead. (got "+String(e)+")"):zt.has(e)||(this.emitWarningMessage("Could not reference the given type, try t.typeOf(value) instead."),zt.add(e)),this.any();t=e}for(var n=arguments.length,a=Array(n>1?n-1:0),u=1;u<n;u++)a[u-1]=arguments[u];if(a.length){var i;return b("function"==typeof t.apply,"Cannot apply non-applicable type: "+t.typeName+"."),(i=t).apply.apply(i,pe(a))}return t}},{key:"validate",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],a=new de(this,t);if(n){var u;(u=a.path).push.apply(u,pe(n))}else"string"==typeof e.name&&a.path.push(e.name);return a.prefix=r,a.errors=Array.from(e.errors(a,[],t)),a}},{key:"check",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3];return"assert"===this.mode?this.assert(e,t,r,n):this.warn(e,t,r,n)}},{key:"assert",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],a=this.validate(e,t,r,n),u=this.makeTypeError(a);if(u)throw u;return t}},{key:"warn",value:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"",n=arguments[3],a=F(this.validate(e,t,r,n));return"string"==typeof a&&this.emitWarningMessage(a),t}},{key:"emitWarningMessage",value:function(e){console.warn("flow-runtime:",e)}},{key:"propTypes",value:function(e){return D(e.unwrap())}},{key:"match",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=t.pop();if(!Array.isArray(n))throw new Error("Invalid pattern, last argument must be an array.");return this.pattern.apply(this,pe(n)).apply(void 0,t)}},{key:"pattern",value:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];for(var n=t.length,a=new Array(n),u=0;u<n;u++){var i=t[u],o=this.getAnnotation(i);if(o)b(o instanceof Fe||o instanceof gt,"Pattern clauses must be annotated functions."),a[u]=o;else{if(u!==n-1)throw new Error("Invalid Pattern - found unannotated function in position "+u+", default clauses must be last.");a[u]=!0}}return function(){for(var e=0;e<a.length;e++){var r=a[e],n=t[e];if(!0===r)return n.apply(void 0,arguments);if(r.acceptsParams.apply(r,arguments))return n.apply(void 0,arguments)}var u=new TypeError("Value did not match any of the candidates.");throw u.name="RuntimeTypeError",u}}},{key:"wrapIterator",value:function(e){var t=this;return ne.mark(function r(n){var a,u,i,o,s,c;return ne.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:a=!0,u=!1,i=void 0,r.prev=3,o=n[Symbol.iterator]();case 5:if(a=(s=o.next()).done){r.next=12;break}return c=s.value,r.next=9,t.check(e,c);case 9:a=!0,r.next=5;break;case 12:r.next=18;break;case 14:r.prev=14,r.t0=r.catch(3),u=!0,i=r.t0;case 18:r.prev=18,r.prev=19,!a&&o.return&&o.return();case 21:if(r.prev=21,!u){r.next=24;break}throw i;case 24:return r.finish(21);case 25:return r.finish(18);case 26:case"end":return r.stop()}},r,this,[[3,14,18,26],[19,,21,25]])})}},{key:"refinement",value:function(e){var t=new bt(this);t.type=e;for(var r=arguments.length,n=Array(r>1?r-1:0),a=1;a<r;a++)n[a-1]=arguments[a];return t.addConstraint.apply(t,pe(n)),t}},{key:"$diff",value:function(e,t){var r=new Lt(this);return r.aType=e,r.bType=t,r}},{key:"$flowFixMe",value:function(){return new Xt(this)}},{key:"$keys",value:function(e){var t=new Jt(this);return t.type=e,t}},{key:"$objMap",value:function(e,t){var r=new $t(this);return r.object=e,r.mapper=t,r}},{key:"$objMapi",value:function(e,t){var r=new Yt(this);return r.object=e,r.mapper=t,r}},{key:"$propertyType",value:function(e,t){var r=new Dt(this);if(r.object=e,t instanceof ge){var n=t.unwrap();r.property=n.value}else r.property=t;return r}},{key:"$shape",value:function(e){var t=new Ft(this);return t.type=e,t}},{key:"$subtype",value:function(e){var t=new Ut(this);return t.type=e,t}},{key:"$supertype",value:function(e){var t=new Bt(this);return t.type=e,t}},{key:"$tupleMap",value:function(e,t){var r=new Vt(this);return r.tuple=e,r.mapper=t,r}},{key:"Class",value:function(e){var t=new Gt(this);return t.instanceType=e,t}},{key:"TypeParametersSymbol",get:function(){return $e}}]),r}(),Ht=void 0;void 0!==t&&void 0!==t.__FLOW_RUNTIME_GLOBAL_CONTEXT_DO_NOT_USE_THIS_VARIABLE__?Ht=t.__FLOW_RUNTIME_GLOBAL_CONTEXT_DO_NOT_USE_THIS_VARIABLE__:(function(e){re.null=Object.freeze(new Ke(e)),re.empty=Object.freeze(new Pe(e)),re.number=Object.freeze(new mt(e)),re.boolean=Object.freeze(new Oe(e)),re.string=Object.freeze(new _t(e)),re.symbol=Object.freeze(new Tt(e)),re.any=Object.freeze(new be(e)),re.mixed=Object.freeze(new ht(e)),re.void=Object.freeze(new He(e)),re.existential=Object.freeze(new Ee(e))}(Ht=new Kt),function(e){e.declareTypeConstructor({name:"Date",impl:Date,typeName:"DateType",errors:ne.mark(function e(t,r,n){return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(n instanceof Date){e.next=5;break}return e.next=3,[r,k("ERR_EXPECT_INSTANCEOF","Date"),this];case 3:e.next=8;break;case 5:if(!isNaN(n.getTime())){e.next=8;break}return e.next=8,[r,k("ERR_INVALID_DATE"),this];case 8:case"end":return e.stop()}},e,this)}),accepts:function(e){return e instanceof Date&&!isNaN(e.getTime())},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"Promise",impl:Promise,typeName:"PromiseType",errors:ne.mark(function e(t,r,n,a){var u;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b(a,"Must specify type parameter for Promise."),(u=this.context).checkPredicate("Promise",n)){e.next=5;break}return e.next=5,[r,k("ERR_EXPECT_PROMISE",a),this];case 5:case"end":return e.stop()}},e,this)}),accepts:function(e){return this.context.checkPredicate("Promise",e)},inferTypeParameters:function(e){return[]}}),e.declareTypeConstructor({name:"Map",impl:Map,typeName:"MapType",errors:ne.mark(function e(t,r,n,a,u){var i,o,s,c,f,l,p,y,h,v;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b(a,"Must specify two type parameters for Map."),b(u,"Must specify two type parameters for Map."),(i=this.context).checkPredicate("Map",n)){e.next=7;break}return e.next=6,[r,k("ERR_EXPECT_INSTANCEOF","Map"),this];case 6:return e.abrupt("return");case 7:o=!0,s=!1,c=void 0,e.prev=10,f=n[Symbol.iterator]();case 12:if(o=(l=f.next()).done){e.next=24;break}if(p=l.value,y=le(p,2),h=y[0],v=y[1],a.accepts(h)){e.next=20;break}return e.next=20,[r,k("ERR_EXPECT_KEY_TYPE",a),this];case 20:return e.delegateYield(u.errors(t,r.concat(h),v),"t0",21);case 21:o=!0,e.next=12;break;case 24:e.next=30;break;case 26:e.prev=26,e.t1=e.catch(10),s=!0,c=e.t1;case 30:e.prev=30,e.prev=31,!o&&f.return&&f.return();case 33:if(e.prev=33,!s){e.next=36;break}throw c;case 36:return e.finish(33);case 37:return e.finish(30);case 38:case"end":return e.stop()}},e,this,[[10,26,30,38],[31,,33,37]])}),accepts:function(e,t,r){if(!this.context.checkPredicate("Map",e))return!1;var n=!0,a=!1,u=void 0;try{for(var i,o=e[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){var s=i.value,c=le(s,2),f=c[0],l=c[1];if(!t.accepts(f)||!r.accepts(l))return!1}}catch(e){a=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw u}}return!0},inferTypeParameters:function(t){var r=[],n=[],a=!0,u=!1,i=void 0;try{e:for(var o,s=t[Symbol.iterator]();!(a=(o=s.next()).done);a=!0){var c=o.value,f=le(c,2),l=f[0],p=f[1];t:{for(var y=0;y<r.length;y++)if(r[y].accepts(l))break t;r.push(e.typeOf(l))}for(var h=0;h<n.length;h++)if(n[h].accepts(p))continue e;n.push(e.typeOf(p))}}catch(e){u=!0,i=e}finally{try{!a&&s.return&&s.return()}finally{if(u)throw i}}var v=[];return 0===r.length?v.push(e.existential()):1===r.length?v.push(r[0]):v.push(e.union.apply(e,r)),0===n.length?v.push(e.existential()):1===n.length?v.push(n[0]):v.push(e.union.apply(e,n)),v}}),e.declareTypeConstructor({name:"Set",impl:Set,typeName:"SetType",errors:ne.mark(function e(t,r,n,a){var u,i,o,s,c,f,l;return ne.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(b(a,"Must specify type parameter for Set."),(u=this.context).checkPredicate("Set",n)){e.next=6;break}return e.next=5,[r,k("ERR_EXPECT_INSTANCEOF","Set"),this];case 5:return e.abrupt("return");case 6:i=!0,o=!1,s=void 0,e.prev=9,c=n[Symbol.iterator]();case 11:if(i=(f=c.next()).done){e.next=17;break}return l=f.value,e.delegateYield(a.errors(t,r,l),"t0",14);case 14:i=!0,e.next=11;break;case 17:e.next=23;break;case 19:e.prev=19,e.t1=e.catch(9),o=!0,s=e.t1;case 23:e.prev=23,e.prev=24,!i&&c.return&&c.return();case 26:if(e.prev=26,!o){e.next=29;break}throw s;case 29:return e.finish(26);case 30:return e.finish(23);case 31:case"end":return e.stop()}},e,this,[[9,19,23,31],[24,,26,30]])}),accepts:function(e,t){if(!this.context.checkPredicate("Set",e))return!1;var r=!0,n=!1,a=void 0;try{for(var u,i=e[Symbol.iterator]();!(r=(u=i.next()).done);r=!0){var o=u.value;if(!t.accepts(o))return!1}}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return!0},inferTypeParameters:function(t){var r=[],n=!0,a=!1,u=void 0;try{e:for(var i,o=t[Symbol.iterator]();!(n=(i=o.next()).done);n=!0){for(var s=i.value,c=0;c<r.length;c++)if(r[c].accepts(s))continue e;r.push(e.typeOf(s))}}catch(e){a=!0,u=e}finally{try{!n&&o.return&&o.return()}finally{if(a)throw u}}return 0===r.length?[e.existential()]:1===r.length?[r[0]]:[e.union.apply(e,r)]}})}(Ht),function(e){e.setPredicate("Array",function(e){return Array.isArray(e)}),e.setPredicate("Map",function(e){return e instanceof Map}),e.setPredicate("Set",function(e){return e instanceof Set}),e.setPredicate("Promise",function(e){return e instanceof Promise||null!==e&&("object"===(void 0===e?"undefined":ae(e))||"function"==typeof e)&&"function"==typeof e.then})}(Ht),void 0!==t&&(t.__FLOW_RUNTIME_GLOBAL_CONTEXT_DO_NOT_USE_THIS_VARIABLE__=Ht));var Zt=Ht;return void 0!==t&&t.__FLOW_RUNTIME_GLOBAL_CONTEXT_DO_NOT_USE_THIS_VARIABLE__!==Zt&&Object.defineProperties(Zt,{TypeContext:te(Kt),Type:te(ge),TypeBox:te(Et),TypeParameter:te(Se),TypeReference:te(St),TypeTDZ:te(Ct),ParameterizedTypeAlias:te(kt),TypeAlias:te(vt),TypeConstructor:te(Ge),GenericType:te(ze),NullLiteralType:te(Ke),NumberType:te(mt),NumericLiteralType:te(dt),BooleanType:te(Oe),BooleanLiteralType:te(Te),SymbolType:te(Tt),SymbolLiteralType:te(wt),StringType:te(_t),StringLiteralType:te(xt),ArrayType:te(we),ObjectType:te(pt),ObjectTypeCallProperty:te(tt),ObjectTypeIndexer:te(et),ObjectTypeProperty:te(Qe),FunctionType:te(Fe),FunctionTypeParam:te(Re),FunctionTypeRestParam:te(Ae),FunctionTypeReturn:te(Ce),ParameterizedFunctionType:te(gt),PartialType:te(st),RefinementType:te(bt),TypeParameterApplication:te(Be),GeneratorType:te(Ue),ExistentialType:te(Ee),FlowIntoType:te(je),AnyType:te(be),MixedType:te(ht),EmptyType:te(Pe),NullableType:te(Ze),ThisType:te(Ot),TupleType:te(_e),UnionType:te(Mt),IntersectionType:te(yt),VoidType:te(He),Declaration:te(rt),VarDeclaration:te(nt),TypeDeclaration:te(at),ModuleDeclaration:te(ut),ModuleExportsDeclaration:te(it),ClassDeclaration:te(ot),ParameterizedClassDeclaration:te(ct),ExtendsDeclaration:te(ft)}),Zt})}).call(t,r(2))},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t){"use strict";function r(e,t){var r=n.default.function(n.default.param("r",n.default.any()),n.default.param("t",n.default.any()),n.default.param("i",n.default.number()),n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.any())),a=n.default.any(),u=n.default.return(n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.param("start",n.default.any(),!0),n.default.return(n.default.any())));return n.default.param("reducer",r).assert(e),n.default.param("_start",a,!0).assert(t),u.assert(n.default.annotate(function(r){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t,u=n.default.array(n.default.any()),i=n.default.any(),o=n.default.return(n.default.any());n.default.param("array",u).assert(r),n.default.param("start",i,!0).assert(a);for(var s=n.default.any(),c=s.assert(a),f=0;f<r.length;f++)c=s.assert(e(c,r[f],f,r));return o.assert(c)},n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.param("start",n.default.any()),n.default.return(n.default.any()))))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.annotate(r,n.default.function(n.default.param("reducer",n.default.function(n.default.param("r",n.default.any()),n.default.param("t",n.default.any()),n.default.param("i",n.default.number()),n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.any()))),n.default.param("_start",n.default.any()),n.default.return(n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.param("start",n.default.any(),!0),n.default.return(n.default.any())))))})},function(e,t){var r;r=function(){return this}();try{r=r||Function("return this")()||(0,eval)("this")}catch(e){"object"==typeof window&&(r=window)}e.exports=r},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(1),r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=i.default.function(i.default.param("t",i.default.any()),i.default.param("i",i.default.number()),i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.boolean())),r=i.default.return(i.default.function(i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.array(i.default.any()))));return i.default.param("filter",t).assert(e),r.assert((0,u.default)(i.default.annotate(function(t,r,n,a){var u=i.default.array(i.default.any()),o=i.default.any(),s=i.default.number(),c=i.default.array(i.default.any()),f=i.default.return(i.default.array(i.default.any()));return i.default.param("r",u).assert(t),i.default.param("t",o).assert(r),i.default.param("i",s).assert(n),i.default.param("array",c).assert(a),f.assert(e(r,n,a)?t.concat([r]):t)},i.default.function(i.default.param("r",i.default.array(i.default.any())),i.default.param("t",i.default.any()),i.default.param("i",i.default.number()),i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.array(i.default.any())))),[]))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var u=n(t),i=n(r);i.default.annotate(a,i.default.function(i.default.param("filter",i.default.function(i.default.param("t",i.default.any()),i.default.param("i",i.default.number()),i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.boolean()))),i.default.return(i.default.function(i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.array(i.default.any()))))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=a.default.union(a.default.function(a.default.param("args",a.default.array(a.default.any())),a.default.return(a.default.array(a.default.any()))),a.default.null()),u=a.default.union(a.default.function(a.default.param("value",a.default.any()),a.default.return(a.default.any())),a.default.null()),i=a.default.return(a.default.function(a.default.param("fn",a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.any()))),a.default.return(a.default.any())));return a.default.param("preProcessor",n).assert(e),a.default.param("postProcessor",u).assert(t),null===e&&(e=n.assert(function(e){return e})),null===t&&(t=u.assert(function(e){return e})),i.assert(a.default.annotate(function(n){var u=a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.any())),i=a.default.return(a.default.any());return a.default.param("fn",u).assert(n),i.assert(function(){for(var a=arguments.length,u=Array(a),i=0;i<a;i++)u[i]=arguments[i];return t(n.apply(void 0,r(e(u))))})},a.default.function(a.default.param("fn",a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.any()))),a.default.return(a.default.any()))))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=function(e){return e&&e.__esModule?e:{default:e}}(t);a.default.annotate(n,a.default.function(a.default.param("preProcessor",a.default.union(a.default.function(a.default.param("args",a.default.array(a.default.any())),a.default.return(a.default.array(a.default.any()))),a.default.null())),a.default.param("postProcessor",a.default.union(a.default.function(a.default.param("value",a.default.any()),a.default.return(a.default.any())),a.default.null())),a.default.return(a.default.function(a.default.param("fn",a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.any()))),a.default.return(a.default.any())))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(1),r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=i.default.function(i.default.param("t",i.default.any()),i.default.param("i",i.default.number()),i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.any())),r=i.default.return(i.default.function(i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.array(i.default.any()))));return i.default.param("mapper",t).assert(e),r.assert((0,u.default)(i.default.annotate(function(t,r,n,a){var u=i.default.array(i.default.any()),o=i.default.any(),s=i.default.number(),c=i.default.array(i.default.any()),f=i.default.return(i.default.array(i.default.any()));return i.default.param("r",u).assert(t),i.default.param("t",o).assert(r),i.default.param("i",s).assert(n),i.default.param("array",c).assert(a),f.assert(t.concat(e(r,n,a)))},i.default.function(i.default.param("r",i.default.array(i.default.any())),i.default.param("t",i.default.any()),i.default.param("i",i.default.number()),i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.array(i.default.any())))),[]))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var u=n(t),i=n(r);i.default.annotate(a,i.default.function(i.default.param("mapper",i.default.function(i.default.param("t",i.default.any()),i.default.param("i",i.default.number()),i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.any()))),i.default.return(i.default.function(i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.array(i.default.any()))))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=n.default.number(),r=n.default.return(n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.array(n.default.any()))));return n.default.param("shift",t,!0).assert(e),r.assert(n.default.annotate(function(t){var r=n.default.array(n.default.any()),a=n.default.return(n.default.array(n.default.any()));n.default.param("array",r).assert(t);for(var u=[],i=e;i<t.length;i++)u.push(t[i]);return a.assert(u)},n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.array(n.default.any())))))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.annotate(r,n.default.function(n.default.param("shift",n.default.number()),n.default.return(n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.array(n.default.any()))))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t){"use strict";function r(e){var t=n.default.any(),r=n.default.return(n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.array(n.default.any()))));return n.default.param("concat",t).assert(e),r.assert(n.default.annotate(function(t){var r=n.default.array(n.default.any()),a=n.default.return(n.default.array(n.default.any()));return n.default.param("array",r).assert(t),a.assert(t.concat(e))},n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.array(n.default.any())))))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.annotate(r,n.default.function(n.default.param("concat",n.default.any()),n.default.return(n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.array(n.default.any()))))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(3),r(4),r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function u(e){var t=s.default.function(s.default.param("t",s.default.any()),s.default.param("i",s.default.number()),s.default.param("array",s.default.array(s.default.any())),s.default.return(s.default.boolean())),r=s.default.return(s.default.function(s.default.param("array",s.default.array(s.default.any())),s.default.return(s.default.any())));return s.default.param("finder",t).assert(e),r.assert(s.default.function(s.default.param("array",s.default.array(s.default.any())),s.default.return(s.default.any())).assert((0,o.default)(null,s.default.annotate(function(e){var t=s.default.array(s.default.any()),r=s.default.return(s.default.any());return s.default.param("value",t).assert(e),r.assert(e.length>0?e[0]:void 0)},s.default.function(s.default.param("value",s.default.array(s.default.any())),s.default.return(s.default.any()))))((0,i.default)(e))))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=u;var i=a(t),o=a(r),s=a(n);s.default.annotate(u,s.default.function(s.default.param("finder",s.default.function(s.default.param("t",s.default.any()),s.default.param("i",s.default.number()),s.default.param("array",s.default.array(s.default.any())),s.default.return(s.default.boolean()))),s.default.return(s.default.function(s.default.param("array",s.default.array(s.default.any())),s.default.return(s.default.any())))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(1),r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=i.default.array(i.default.any()),r=i.default.return(i.default.array(i.default.any()));return i.default.param("array",t).assert(e),r.assert((0,u.default)(i.default.annotate(function(e,t,r,n){var a=i.default.any(),u=i.default.any(),o=i.default.number(),s=i.default.array(i.default.any());return i.default.param("r",a).assert(e),i.default.param("t",u).assert(t),i.default.param("i",o).assert(r),i.default.param("array",s).assert(n),e.concat(t)},i.default.function(i.default.param("r",i.default.any()),i.default.param("t",i.default.any()),i.default.param("i",i.default.number()),i.default.param("array",i.default.array(i.default.any())))),[])(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var u=n(t),i=n(r);i.default.annotate(a,i.default.function(i.default.param("array",i.default.array(i.default.any())),i.default.return(i.default.array(i.default.any()))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(5),r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(e){var t=i.default.string(),r=i.default.return(i.default.function(i.default.param("array",i.default.array(i.default.object())),i.default.return(i.default.array(i.default.any()))));return i.default.param("key",t).assert(e),r.assert((0,u.default)(i.default.annotate(function(t,r,n){var a=i.default.object(),u=i.default.number(),o=i.default.array(i.default.object()),s=i.default.return(i.default.any());return i.default.param("t",a).assert(t),i.default.param("i",u).assert(r),i.default.param("array",o).assert(n),s.assert(t[e])},i.default.function(i.default.param("t",i.default.object()),i.default.param("i",i.default.number()),i.default.param("array",i.default.array(i.default.object())),i.default.return(i.default.any())))))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var u=n(t),i=n(r);i.default.annotate(a,i.default.function(i.default.param("key",i.default.string()),i.default.return(i.default.function(i.default.param("array",i.default.array(i.default.object())),i.default.return(i.default.array(i.default.any()))))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t){"use strict";function r(e){var t=n.default.array(n.default.any()),r=n.default.return(n.default.array(n.default.any()));n.default.param("array",t).assert(e);for(var a=[],u=e.length-1;u>=0;u--)a.push(e[u]);return r.assert(a)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=function(e){return e&&e.__esModule?e:{default:e}}(t);n.default.annotate(r,n.default.function(n.default.param("array",n.default.array(n.default.any())),n.default.return(n.default.array(n.default.any()))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t){"use strict";function r(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function n(e){var t=a.default.union(a.default.boolean(),a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.boolean()))),n=a.default.return(a.default.union(a.default.boolean(),a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.boolean()))));return a.default.param("boolean",t).assert(e),"function"==typeof e?n.assert(a.default.annotate(function(){for(var t=arguments.length,n=Array(t),u=0;u<t;u++)n[u]=arguments[u];var i=a.default.array(a.default.any()),o=a.default.return(a.default.boolean());return a.default.rest("args",i).assert(n),o.assert(!e.apply(void 0,r(n)))},a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.boolean())))):n.assert(!e)}Object.defineProperty(e,"__esModule",{value:!0}),e.default=n;var a=function(e){return e&&e.__esModule?e:{default:e}}(t);a.default.annotate(n,a.default.function(a.default.param("boolean",a.default.union(a.default.boolean(),a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.boolean())))),a.default.return(a.default.union(a.default.boolean(),a.default.function(a.default.rest("args",a.default.array(a.default.any())),a.default.return(a.default.boolean()))))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t){"use strict";function r(e){var t=n.default.object(),r=n.default.return(n.default.function(n.default.param("target",n.default.object()),n.default.return(n.default.object())));return n.default.param("source",t).assert(e),r.assert(n.default.annotate(function(t){var r=n.default.object(),u=n.default.return(n.default.object());return n.default.param("target",r).assert(t),u.assert(a(t,e))},n.default.function(n.default.param("target",n.default.object()),n.default.return(n.default.object()))))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=r;var n=function(e){return e&&e.__esModule?e:{default:e}}(t),a=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};n.default.annotate(r,n.default.function(n.default.param("source",n.default.object()),n.default.return(n.default.function(n.default.param("target",n.default.object()),n.default.return(n.default.object())))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(15),r(6),r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r,n){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}function u(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}function i(e,t){var r=c.default.union(c.default.string(),c.default.array(c.default.union(c.default.number(),c.default.string()))),n=c.default.any(),a=c.default.return(c.default.function(c.default.param("obj",c.default.object()),c.default.return(c.default.object())));return c.default.param("keys",r).assert(e),c.default.param("value",n).assert(t),a.assert(c.default.annotate(function(n){var a=c.default.object(),l=c.default.return(c.default.object());return c.default.param("obj",a).assert(n),(e=r.assert((0,o.default)([]).concat(e).reduce(function(e,t){return(0,o.default)(e).concat("string"==typeof t?t.split("."):t).value()},[]).value())).length>1?l.assert(i(e[0],i((0,s.default)()(e),t)(n[e[0]]))(n)):l.assert(f(n,u({},e[0],t)))},c.default.function(c.default.param("obj",c.default.object()),c.default.return(c.default.object()))))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=i;var o=a(t),s=a(r),c=a(n),f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}return e};c.default.annotate(i,c.default.function(c.default.param("keys",c.default.union(c.default.string(),c.default.array(c.default.union(c.default.number(),c.default.string())))),c.default.param("value",c.default.any()),c.default.return(c.default.function(c.default.param("obj",c.default.object()),c.default.return(c.default.object())))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(7),r(3),r(8),r(9),r(5),r(10),r(1),r(11),r(6),r(12),r(4),r(19),r(13),r(14),r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r,n,a,u,i,o,s,c,f,l,p,y,h,v){"use strict";function d(e){return e&&e.__esModule?e:{default:e}}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function k(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++)r[t]=e[t];return r}return Array.from(e)}function g(e){var t=M.default.any(),r=M.default.return(M.default.ref(L));return M.default.param("initialValue",t).assert(e),r.assert(new L(e))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=g;var b=d(t),x=d(r),_=d(n),w=d(a),T=d(u),O=d(i),P=d(o),E=d(s),N=d(c),S=d(f),j=d(l),A=d(p),R=d(y),C=d(h),M=d(v),I=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,r,n){return r&&e(t.prototype,r),n&&e(t,n),t}}(),W={concat:b.default,filter:x.default,find:_.default,flatten:function(){return w.default},map:T.default,mapKey:O.default,reduce:P.default,reverse:function(){return E.default},shift:N.default,invert:function(){return S.default},processors:j.default,add:M.default.annotate(function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=M.default.array(M.default.number());return M.default.rest("numbers",n).assert(t),A.default.bind.apply(A.default,[null].concat(k(t)))},M.default.function(M.default.rest("numbers",M.default.array(M.default.number())))),extend:R.default,withProperty:C.default},L=function(){function e(t){m(this,e);var r=M.default.any();M.default.param("initialValue",r).assert(t),this.actions=[],this.initialValue=t}return I(e,[{key:"tap",value:function(t){var r=M.default.function(M.default.param("value",M.default.any()),M.default.return(M.default.any())),n=M.default.return(M.default.ref(e));return M.default.param("action",r).assert(t),this.actions.push(t),n.assert(this)}},{key:"value",value:function(){var e=M.default.return(M.default.any()),t=this.initialValue,r=!0,n=!1,a=void 0;try{for(var u,i=this.actions[Symbol.iterator]();!(r=(u=i.next()).done);r=!0)t=(0,u.value)(t)}catch(e){n=!0,a=e}finally{try{!r&&i.return&&i.return()}finally{if(n)throw a}}return e.assert(t)}}]),e}();for(var X in W)!function(e){L.prototype[e]=M.default.annotate(function(){for(var t=M.default.array(M.default.any()),r=M.default.return(M.default.ref(L)),n=arguments.length,a=Array(n),u=0;u<n;u++)a[u]=arguments[u];return M.default.rest("args",t).assert(a),r.assert(this.tap(W[e].apply(W,k(a))))},M.default.function(M.default.rest("args",M.default.array(M.default.any())),M.default.return(M.default.ref(L))))}(X);M.default.annotate(g,M.default.function(M.default.param("initialValue",M.default.any()),M.default.return(M.default.ref(L))))})},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(7),r(3),r(8),r(9),r(5),r(10),r(1),r(11),r(6),r(12),r(4),r(13),r(14),r(15)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r,n,a,u,i,o,s,c,f,l,p,y,h){"use strict";function v(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(e,"__esModule",{value:!0}),e.chain=e.withProperty=e.extend=e.processors=e.invert=e.shift=e.reverse=e.reduce=e.mapKey=e.map=e.flatten=e.find=e.filter=e.concat=e.VERSION=void 0;var d=v(t),m=v(r),k=v(n),g=v(a),b=v(u),x=v(i),_=v(o),w=v(s),T=v(c),O=v(f),P=v(l),E=v(p),N=v(y),S=v(h);e.VERSION="1.0.0-rc.14";e.concat=d.default,e.filter=m.default,e.find=k.default,e.flatten=g.default,e.map=b.default,e.mapKey=x.default,e.reduce=_.default,e.reverse=w.default,e.shift=T.default,e.invert=O.default,e.processors=P.default,e.extend=E.default,e.withProperty=N.default,e.chain=S.default})},function(e,t,r){(function(t){var n="object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this,a=n.regeneratorRuntime&&Object.getOwnPropertyNames(n).indexOf("regeneratorRuntime")>=0,u=a&&n.regeneratorRuntime;if(n.regeneratorRuntime=void 0,e.exports=r(18),a)n.regeneratorRuntime=u;else try{delete n.regeneratorRuntime}catch(e){n.regeneratorRuntime=void 0}}).call(t,r(2))},function(e,t,r){(function(t){!function(t){"use strict";function r(e,t,r,n){var u=t&&t.prototype instanceof a?t:a,i=Object.create(u.prototype),o=new y(n||[]);return i._invoke=c(e,r,o),i}function n(e,t,r){try{return{type:"normal",arg:e.call(t,r)}}catch(e){return{type:"throw",arg:e}}}function a(){}function u(){}function i(){}function o(e){["next","throw","return"].forEach(function(t){e[t]=function(e){return this._invoke(t,e)}})}function s(e){function r(t,a,u,i){var o=n(e[t],e,a);if("throw"!==o.type){var s=o.arg,c=s.value;return c&&"object"==typeof c&&k.call(c,"__await")?Promise.resolve(c.__await).then(function(e){r("next",e,u,i)},function(e){r("throw",e,u,i)}):Promise.resolve(c).then(function(e){s.value=e,u(s)},i)}i(o.arg)}"object"==typeof t.process&&t.process.domain&&(r=t.process.domain.bind(r));var a;this._invoke=function(e,t){function n(){return new Promise(function(n,a){r(e,t,n,a)})}return a=a?a.then(n,n):n()}}function c(e,t,r){var a=O;return function(u,i){if(a===E)throw new Error("Generator is already running");if(a===N){if("throw"===u)throw i;return v()}for(r.method=u,r.arg=i;;){var o=r.delegate;if(o){var s=f(o,r);if(s){if(s===S)continue;return s}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(a===O)throw a=N,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);a=E;var c=n(e,t,r);if("normal"===c.type){if(a=r.done?N:P,c.arg===S)continue;return{value:c.arg,done:r.done}}"throw"===c.type&&(a=N,r.method="throw",r.arg=c.arg)}}}function f(e,t){var r=e.iterator[t.method];if(r===d){if(t.delegate=null,"throw"===t.method){if(e.iterator.return&&(t.method="return",t.arg=d,f(e,t),"throw"===t.method))return S;t.method="throw",t.arg=new TypeError("The iterator does not provide a 'throw' method")}return S}var a=n(r,e.iterator,t.arg);if("throw"===a.type)return t.method="throw",t.arg=a.arg,t.delegate=null,S;var u=a.arg;return u?u.done?(t[e.resultName]=u.value,t.next=e.nextLoc,"return"!==t.method&&(t.method="next",t.arg=d),t.delegate=null,S):u:(t.method="throw",t.arg=new TypeError("iterator result is not an object"),t.delegate=null,S)}function l(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function p(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function y(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(l,this),this.reset(!0)}function h(e){if(e){var t=e[b];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var r=-1,n=function t(){for(;++r<e.length;)if(k.call(e,r))return t.value=e[r],t.done=!1,t;return t.value=d,t.done=!0,t};return n.next=n}}return{next:v}}function v(){return{value:d,done:!0}}var d,m=Object.prototype,k=m.hasOwnProperty,g="function"==typeof Symbol?Symbol:{},b=g.iterator||"@@iterator",x=g.asyncIterator||"@@asyncIterator",_=g.toStringTag||"@@toStringTag",w="object"==typeof e,T=t.regeneratorRuntime;if(T)w&&(e.exports=T);else{(T=t.regeneratorRuntime=w?e.exports:{}).wrap=r;var O="suspendedStart",P="suspendedYield",E="executing",N="completed",S={},j={};j[b]=function(){return this};var A=Object.getPrototypeOf,R=A&&A(A(h([])));R&&R!==m&&k.call(R,b)&&(j=R);var C=i.prototype=a.prototype=Object.create(j);u.prototype=C.constructor=i,i.constructor=u,i[_]=u.displayName="GeneratorFunction",T.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===u||"GeneratorFunction"===(t.displayName||t.name))},T.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,i):(e.__proto__=i,_ in e||(e[_]="GeneratorFunction")),e.prototype=Object.create(C),e},T.awrap=function(e){return{__await:e}},o(s.prototype),s.prototype[x]=function(){return this},T.AsyncIterator=s,T.async=function(e,t,n,a){var u=new s(r(e,t,n,a));return T.isGeneratorFunction(t)?u:u.next().then(function(e){return e.done?e.value:u.next()})},o(C),C[_]="Generator",C[b]=function(){return this},C.toString=function(){return"[object Generator]"},T.keys=function(e){var t=[];for(var r in e)t.push(r);return t.reverse(),function r(){for(;t.length;){var n=t.pop();if(n in e)return r.value=n,r.done=!1,r}return r.done=!0,r}},T.values=h,y.prototype={constructor:y,reset:function(e){if(this.prev=0,this.next=0,this.sent=this._sent=d,this.done=!1,this.delegate=null,this.method="next",this.arg=d,this.tryEntries.forEach(p),!e)for(var t in this)"t"===t.charAt(0)&&k.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=d)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(e){function t(t,n){return u.type="throw",u.arg=e,r.next=t,n&&(r.method="next",r.arg=d),!!n}if(this.done)throw e;for(var r=this,n=this.tryEntries.length-1;n>=0;--n){var a=this.tryEntries[n],u=a.completion;if("root"===a.tryLoc)return t("end");if(a.tryLoc<=this.prev){var i=k.call(a,"catchLoc"),o=k.call(a,"finallyLoc");if(i&&o){if(this.prev<a.catchLoc)return t(a.catchLoc,!0);if(this.prev<a.finallyLoc)return t(a.finallyLoc)}else if(i){if(this.prev<a.catchLoc)return t(a.catchLoc,!0)}else{if(!o)throw new Error("try statement without catch or finally");if(this.prev<a.finallyLoc)return t(a.finallyLoc)}}}},abrupt:function(e,t){for(var r=this.tryEntries.length-1;r>=0;--r){var n=this.tryEntries[r];if(n.tryLoc<=this.prev&&k.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var a=n;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var u=a?a.completion:{};return u.type=e,u.arg=t,a?(this.method="next",this.next=a.finallyLoc,S):this.complete(u)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),S},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.finallyLoc===e)return this.complete(r.completion,r.afterLoc),p(r),S}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var r=this.tryEntries[t];if(r.tryLoc===e){var n=r.completion;if("throw"===n.type){var a=n.arg;p(r)}return a}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,r){return this.delegate={iterator:h(e),resultName:t,nextLoc:r},"next"===this.method&&(this.arg=d),S}}}}("object"==typeof t?t:"object"==typeof window?window:"object"==typeof self?self:this)}).call(t,r(2))},function(e,t,r){var n,a,u;!function(i,o){a=[t,r(1),r(0)],void 0!==(u="function"==typeof(n=o)?n.apply(t,a):n)&&(e.exports=u)}(0,function(e,t,r){"use strict";function n(e){return e&&e.__esModule?e:{default:e}}function a(){for(var e=i.default.array(i.default.number()),t=i.default.return(i.default.number()),r=arguments.length,n=Array(r),a=0;a<r;a++)n[a]=arguments[a];return i.default.rest("numbers",e).assert(n),t.assert((0,u.default)(function(e,t){return e+t},0)(n))}Object.defineProperty(e,"__esModule",{value:!0}),e.default=a;var u=n(t),i=n(r);i.default.annotate(a,i.default.function(i.default.rest("numbers",i.default.array(i.default.number())),i.default.return(i.default.number())))})}])});
//# sourceMappingURL=core.min.js.map
